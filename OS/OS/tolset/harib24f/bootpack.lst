     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_io_cli
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_init_gdtidt
    10 00000000                                 	EXTERN	_init_pic
    11 00000000                                 	EXTERN	_fifo32_init
    12 00000000                                 	EXTERN	_init_pit
    13 00000000                                 	EXTERN	_init_keyboard
    14 00000000                                 	EXTERN	_enable_mouse
    15 00000000                                 	EXTERN	_io_out8
    16 00000000                                 	EXTERN	_memtest
    17 00000000                                 	EXTERN	_memman_init
    18 00000000                                 	EXTERN	_memman_free
    19 00000000                                 	EXTERN	_init_palette
    20 00000000                                 	EXTERN	_shtctl_init
    21 00000000                                 	EXTERN	_task_init
    22 00000000                                 	EXTERN	_task_run
    23 00000000                                 	EXTERN	_sheet_alloc
    24 00000000                                 	EXTERN	_memman_alloc_4k
    25 00000000                                 	EXTERN	_sheet_setbuf
    26 00000000                                 	EXTERN	_init_screen8
    27 00000000                                 	EXTERN	_init_mouse_cursor8
    28 00000000                                 	EXTERN	_sheet_slide
    29 00000000                                 	EXTERN	_sheet_updown
    30 00000000                                 	EXTERN	_fifo32_put
    31 00000000                                 	EXTERN	_task_alloc
    32 00000000                                 	EXTERN	_sprintf
    33 00000000                                 	EXTERN	_cons_putstr0
    34 00000000                                 	EXTERN	_fifo32_status
    35 00000000                                 	EXTERN	_fifo32_get
    36 00000000                                 	EXTERN	_memman_free_4k
    37 00000000                                 	EXTERN	_sheet_free
    38 00000000                                 	EXTERN	_taskctl
    39 00000000                                 	EXTERN	_mouse_decode
    40 00000000                                 	EXTERN	_asm_end_app
    41 00000000                                 	EXTERN	_wait_KBC_sendready
    42 00000000                                 	EXTERN	_task_sleep
    43 00000000                                 	EXTERN	_change_wtitle8
    44 00000000                                 	EXTERN	_console_task
    45 00000000                                 	EXTERN	_make_window8
    46 00000000                                 	EXTERN	_make_textbox8
    47 00000000                                 [FILE "bootpack.c"]
    48                                          [SECTION .text]
    49 00000000                                 	GLOBAL	_avoid_sleep
    50 00000000                                 _avoid_sleep:
    51 00000000 55                              	PUSH	EBP
    52 00000001 89 E5                           	MOV	EBP,ESP
    53 00000003 E8 [00000000]                   	CALL	_task_now
    54 00000008 C7 40 04 00000002               	MOV	DWORD [4+EAX],2
    55 0000000F 5D                              	POP	EBP
    56 00000010 C3                              	RET
    57 00000011                                 	GLOBAL	_test_and_set
    58 00000011                                 _test_and_set:
    59 00000011 55                              	PUSH	EBP
    60 00000012 89 E5                           	MOV	EBP,ESP
    61 00000014 56                              	PUSH	ESI
    62 00000015 53                              	PUSH	EBX
    63 00000016 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    64 00000019 E8 [00000000]                   	CALL	_io_cli
    65 0000001E 8B 33                           	MOV	ESI,DWORD [EBX]
    66 00000020 C7 03 000000FF                  	MOV	DWORD [EBX],255
    67 00000026 E8 [00000000]                   	CALL	_io_sti
    68 0000002B 5B                              	POP	EBX
    69 0000002C 89 F0                           	MOV	EAX,ESI
    70 0000002E 5E                              	POP	ESI
    71 0000002F 5D                              	POP	EBP
    72 00000030 C3                              	RET
    73 00000031                                 	GLOBAL	_Swap
    74 00000031                                 _Swap:
    75 00000031 55                              	PUSH	EBP
    76 00000032 89 E5                           	MOV	EBP,ESP
    77 00000034 56                              	PUSH	ESI
    78 00000035 53                              	PUSH	EBX
    79 00000036 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    80 00000039 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
    81 0000003C E8 [00000000]                   	CALL	_io_cli
    82 00000041 8B 13                           	MOV	EDX,DWORD [EBX]
    83 00000043 8B 06                           	MOV	EAX,DWORD [ESI]
    84 00000045 89 03                           	MOV	DWORD [EBX],EAX
    85 00000047 89 16                           	MOV	DWORD [ESI],EDX
    86 00000049 5B                              	POP	EBX
    87 0000004A 5E                              	POP	ESI
    88 0000004B 5D                              	POP	EBP
    89 0000004C E9 [00000000]                   	JMP	_io_sti
    90 00000051                                 	GLOBAL	_sem_signal
    91 00000051                                 _sem_signal:
    92 00000051 55                              	PUSH	EBP
    93 00000052 89 E5                           	MOV	EBP,ESP
    94 00000054 53                              	PUSH	EBX
    95 00000055 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    96 00000058 E8 [00000000]                   	CALL	_io_cli
    97 0000005D FF 03                           	INC	DWORD [EBX]
    98 0000005F 5B                              	POP	EBX
    99 00000060 5D                              	POP	EBP
   100 00000061 E9 [00000000]                   	JMP	_io_sti
   101 00000066                                 	GLOBAL	_sem_wait
   102 00000066                                 _sem_wait:
   103 00000066 55                              	PUSH	EBP
   104 00000067 89 E5                           	MOV	EBP,ESP
   105 00000069 53                              	PUSH	EBX
   106 0000006A 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   107 0000006D 8B 03                           	MOV	EAX,DWORD [EBX]
   108 0000006F                                 L6:
   109 0000006F 85 C0                           	TEST	EAX,EAX
   110 00000071 7E FC                           	JLE	L6
   111 00000073 E8 [00000000]                   	CALL	_io_cli
   112 00000078 FF 0B                           	DEC	DWORD [EBX]
   113 0000007A 5B                              	POP	EBX
   114 0000007B 5D                              	POP	EBP
   115 0000007C E9 [00000000]                   	JMP	_io_sti
   116 00000081                                 	GLOBAL	_test_race_condition2
   117 00000081                                 _test_race_condition2:
   118 00000081 55                              	PUSH	EBP
   119 00000082 89 E5                           	MOV	EBP,ESP
   120 00000084 57                              	PUSH	EDI
   121 00000085 56                              	PUSH	ESI
   122 00000086 53                              	PUSH	EBX
   123 00000087 51                              	PUSH	ECX
   124 00000088 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   125 0000008B 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   126 0000008E 8B 75 14                        	MOV	ESI,DWORD [20+EBP]
   127 00000091                                 L10:
   128 00000091 C7 45 F0 000000FF               	MOV	DWORD [-16+EBP],255
   129 00000098                                 L16:
   130 00000098 56                              	PUSH	ESI
   131 00000099 8D 45 F0                        	LEA	EAX,DWORD [-16+EBP]
   132 0000009C 50                              	PUSH	EAX
   133 0000009D E8 FFFFFF8F                     	CALL	_Swap
   134 000000A2 58                              	POP	EAX
   135 000000A3 5A                              	POP	EDX
   136 000000A4 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   137 000000A8 75 EE                           	JNE	L16
   138 000000AA 8B 13                           	MOV	EDX,DWORD [EBX]
   139 000000AC 8D 42 01                        	LEA	EAX,DWORD [1+EDX]
   140 000000AF 89 03                           	MOV	DWORD [EBX],EAX
   141 000000B1 B8 00000005                     	MOV	EAX,5
   142 000000B6                                 L17:
   143 000000B6 48                              	DEC	EAX
   144 000000B7 83 F8 FF                        	CMP	EAX,-1
   145 000000BA 75 FA                           	JNE	L17
   146 000000BC 8B 03                           	MOV	EAX,DWORD [EBX]
   147 000000BE 29 D0                           	SUB	EAX,EDX
   148 000000C0 48                              	DEC	EAX
   149 000000C1 7E 06                           	JLE	L20
   150 000000C3 C7 07 00000001                  	MOV	DWORD [EDI],1
   151 000000C9                                 L20:
   152 000000C9 C7 06 00000000                  	MOV	DWORD [ESI],0
   153 000000CF EB C0                           	JMP	L10
   154 000000D1                                 	GLOBAL	_test_race_condition1
   155 000000D1                                 _test_race_condition1:
   156 000000D1 55                              	PUSH	EBP
   157 000000D2 89 E5                           	MOV	EBP,ESP
   158 000000D4 57                              	PUSH	EDI
   159 000000D5 56                              	PUSH	ESI
   160 000000D6 53                              	PUSH	EBX
   161 000000D7 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   162 000000DA 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   163 000000DD 8B 75 14                        	MOV	ESI,DWORD [20+EBP]
   164 000000E0                                 L31:
   165 000000E0 56                              	PUSH	ESI
   166 000000E1 E8 FFFFFF2B                     	CALL	_test_and_set
   167 000000E6 5A                              	POP	EDX
   168 000000E7 85 C0                           	TEST	EAX,EAX
   169 000000E9 75 F5                           	JNE	L31
   170 000000EB 8B 13                           	MOV	EDX,DWORD [EBX]
   171 000000ED 8D 42 01                        	LEA	EAX,DWORD [1+EDX]
   172 000000F0 89 03                           	MOV	DWORD [EBX],EAX
   173 000000F2 B8 00000005                     	MOV	EAX,5
   174 000000F7                                 L34:
   175 000000F7 48                              	DEC	EAX
   176 000000F8 83 F8 FF                        	CMP	EAX,-1
   177 000000FB 75 FA                           	JNE	L34
   178 000000FD 8B 03                           	MOV	EAX,DWORD [EBX]
   179 000000FF 29 D0                           	SUB	EAX,EDX
   180 00000101 48                              	DEC	EAX
   181 00000102 7E 06                           	JLE	L37
   182 00000104 C7 07 00000001                  	MOV	DWORD [EDI],1
   183 0000010A                                 L37:
   184 0000010A C7 06 00000000                  	MOV	DWORD [ESI],0
   185 00000110 EB CE                           	JMP	L31
   186                                          [SECTION .data]
   187 00000000                                 _keytable0.0:
   188 00000000 00                              	DB	0
   189 00000001 00                              	DB	0
   190 00000002 31                              	DB	49
   191 00000003 32                              	DB	50
   192 00000004 33                              	DB	51
   193 00000005 34                              	DB	52
   194 00000006 35                              	DB	53
   195 00000007 36                              	DB	54
   196 00000008 37                              	DB	55
   197 00000009 38                              	DB	56
   198 0000000A 39                              	DB	57
   199 0000000B 30                              	DB	48
   200 0000000C 2D                              	DB	45
   201 0000000D 5E                              	DB	94
   202 0000000E 08                              	DB	8
   203 0000000F 00                              	DB	0
   204 00000010 51                              	DB	81
   205 00000011 57                              	DB	87
   206 00000012 45                              	DB	69
   207 00000013 52                              	DB	82
   208 00000014 54                              	DB	84
   209 00000015 59                              	DB	89
   210 00000016 55                              	DB	85
   211 00000017 49                              	DB	73
   212 00000018 4F                              	DB	79
   213 00000019 50                              	DB	80
   214 0000001A 40                              	DB	64
   215 0000001B 5B                              	DB	91
   216 0000001C 0A                              	DB	10
   217 0000001D 00                              	DB	0
   218 0000001E 41                              	DB	65
   219 0000001F 53                              	DB	83
   220 00000020 44                              	DB	68
   221 00000021 46                              	DB	70
   222 00000022 47                              	DB	71
   223 00000023 48                              	DB	72
   224 00000024 4A                              	DB	74
   225 00000025 4B                              	DB	75
   226 00000026 4C                              	DB	76
   227 00000027 3B                              	DB	59
   228 00000028 3A                              	DB	58
   229 00000029 00                              	DB	0
   230 0000002A 00                              	DB	0
   231 0000002B 5D                              	DB	93
   232 0000002C 5A                              	DB	90
   233 0000002D 58                              	DB	88
   234 0000002E 43                              	DB	67
   235 0000002F 56                              	DB	86
   236 00000030 42                              	DB	66
   237 00000031 4E                              	DB	78
   238 00000032 4D                              	DB	77
   239 00000033 2C                              	DB	44
   240 00000034 2E                              	DB	46
   241 00000035 2F                              	DB	47
   242 00000036 00                              	DB	0
   243 00000037 2A                              	DB	42
   244 00000038 00                              	DB	0
   245 00000039 20                              	DB	32
   246 0000003A 00                              	DB	0
   247 0000003B 00                              	DB	0
   248 0000003C 00                              	DB	0
   249 0000003D 00                              	DB	0
   250 0000003E 00                              	DB	0
   251 0000003F 00                              	DB	0
   252 00000040 00                              	DB	0
   253 00000041 00                              	DB	0
   254 00000042 00                              	DB	0
   255 00000043 00                              	DB	0
   256 00000044 00                              	DB	0
   257 00000045 00                              	DB	0
   258 00000046 00                              	DB	0
   259 00000047 37                              	DB	55
   260 00000048 38                              	DB	56
   261 00000049 39                              	DB	57
   262 0000004A 2D                              	DB	45
   263 0000004B 34                              	DB	52
   264 0000004C 35                              	DB	53
   265 0000004D 36                              	DB	54
   266 0000004E 2B                              	DB	43
   267 0000004F 31                              	DB	49
   268 00000050 32                              	DB	50
   269 00000051 33                              	DB	51
   270 00000052 30                              	DB	48
   271 00000053 2E                              	DB	46
   272 00000054 00                              	DB	0
   273 00000055 00                              	DB	0
   274 00000056 00                              	DB	0
   275 00000057 00                              	DB	0
   276 00000058 00                              	DB	0
   277 00000059 00                              	DB	0
   278 0000005A 00                              	DB	0
   279 0000005B 00                              	DB	0
   280 0000005C 00                              	DB	0
   281 0000005D 00                              	DB	0
   282 0000005E 00                              	DB	0
   283 0000005F 00                              	DB	0
   284 00000060 00                              	DB	0
   285 00000061 00                              	DB	0
   286 00000062 00                              	DB	0
   287 00000063 00                              	DB	0
   288 00000064 00                              	DB	0
   289 00000065 00                              	DB	0
   290 00000066 00                              	DB	0
   291 00000067 00                              	DB	0
   292 00000068 00                              	DB	0
   293 00000069 00                              	DB	0
   294 0000006A 00                              	DB	0
   295 0000006B 00                              	DB	0
   296 0000006C 00                              	DB	0
   297 0000006D 00                              	DB	0
   298 0000006E 00                              	DB	0
   299 0000006F 00                              	DB	0
   300 00000070 00                              	DB	0
   301 00000071 00                              	DB	0
   302 00000072 00                              	DB	0
   303 00000073 5C                              	DB	92
   304 00000074 00                              	DB	0
   305 00000075 00                              	DB	0
   306 00000076 00                              	DB	0
   307 00000077 00                              	DB	0
   308 00000078 00                              	DB	0
   309 00000079 00                              	DB	0
   310 0000007A 00                              	DB	0
   311 0000007B 00                              	DB	0
   312 0000007C 00                              	DB	0
   313 0000007D 5C                              	DB	92
   314 0000007E 00                              	DB	0
   315 0000007F 00                              	DB	0
   316 00000080                                 _keytable1.1:
   317 00000080 00                              	DB	0
   318 00000081 00                              	DB	0
   319 00000082 21                              	DB	33
   320 00000083 22                              	DB	34
   321 00000084 23                              	DB	35
   322 00000085 24                              	DB	36
   323 00000086 25                              	DB	37
   324 00000087 26                              	DB	38
   325 00000088 27                              	DB	39
   326 00000089 28                              	DB	40
   327 0000008A 29                              	DB	41
   328 0000008B 7E                              	DB	126
   329 0000008C 3D                              	DB	61
   330 0000008D 7E                              	DB	126
   331 0000008E 08                              	DB	8
   332 0000008F 00                              	DB	0
   333 00000090 51                              	DB	81
   334 00000091 57                              	DB	87
   335 00000092 45                              	DB	69
   336 00000093 52                              	DB	82
   337 00000094 54                              	DB	84
   338 00000095 59                              	DB	89
   339 00000096 55                              	DB	85
   340 00000097 49                              	DB	73
   341 00000098 4F                              	DB	79
   342 00000099 50                              	DB	80
   343 0000009A 60                              	DB	96
   344 0000009B 7B                              	DB	123
   345 0000009C 0A                              	DB	10
   346 0000009D 00                              	DB	0
   347 0000009E 41                              	DB	65
   348 0000009F 53                              	DB	83
   349 000000A0 44                              	DB	68
   350 000000A1 46                              	DB	70
   351 000000A2 47                              	DB	71
   352 000000A3 48                              	DB	72
   353 000000A4 4A                              	DB	74
   354 000000A5 4B                              	DB	75
   355 000000A6 4C                              	DB	76
   356 000000A7 2B                              	DB	43
   357 000000A8 2A                              	DB	42
   358 000000A9 00                              	DB	0
   359 000000AA 00                              	DB	0
   360 000000AB 7D                              	DB	125
   361 000000AC 5A                              	DB	90
   362 000000AD 58                              	DB	88
   363 000000AE 43                              	DB	67
   364 000000AF 56                              	DB	86
   365 000000B0 42                              	DB	66
   366 000000B1 4E                              	DB	78
   367 000000B2 4D                              	DB	77
   368 000000B3 3C                              	DB	60
   369 000000B4 3E                              	DB	62
   370 000000B5 3F                              	DB	63
   371 000000B6 00                              	DB	0
   372 000000B7 2A                              	DB	42
   373 000000B8 00                              	DB	0
   374 000000B9 20                              	DB	32
   375 000000BA 00                              	DB	0
   376 000000BB 00                              	DB	0
   377 000000BC 00                              	DB	0
   378 000000BD 00                              	DB	0
   379 000000BE 00                              	DB	0
   380 000000BF 00                              	DB	0
   381 000000C0 00                              	DB	0
   382 000000C1 00                              	DB	0
   383 000000C2 00                              	DB	0
   384 000000C3 00                              	DB	0
   385 000000C4 00                              	DB	0
   386 000000C5 00                              	DB	0
   387 000000C6 00                              	DB	0
   388 000000C7 37                              	DB	55
   389 000000C8 38                              	DB	56
   390 000000C9 39                              	DB	57
   391 000000CA 2D                              	DB	45
   392 000000CB 34                              	DB	52
   393 000000CC 35                              	DB	53
   394 000000CD 36                              	DB	54
   395 000000CE 2B                              	DB	43
   396 000000CF 31                              	DB	49
   397 000000D0 32                              	DB	50
   398 000000D1 33                              	DB	51
   399 000000D2 30                              	DB	48
   400 000000D3 2E                              	DB	46
   401 000000D4 00                              	DB	0
   402 000000D5 00                              	DB	0
   403 000000D6 00                              	DB	0
   404 000000D7 00                              	DB	0
   405 000000D8 00                              	DB	0
   406 000000D9 00                              	DB	0
   407 000000DA 00                              	DB	0
   408 000000DB 00                              	DB	0
   409 000000DC 00                              	DB	0
   410 000000DD 00                              	DB	0
   411 000000DE 00                              	DB	0
   412 000000DF 00                              	DB	0
   413 000000E0 00                              	DB	0
   414 000000E1 00                              	DB	0
   415 000000E2 00                              	DB	0
   416 000000E3 00                              	DB	0
   417 000000E4 00                              	DB	0
   418 000000E5 00                              	DB	0
   419 000000E6 00                              	DB	0
   420 000000E7 00                              	DB	0
   421 000000E8 00                              	DB	0
   422 000000E9 00                              	DB	0
   423 000000EA 00                              	DB	0
   424 000000EB 00                              	DB	0
   425 000000EC 00                              	DB	0
   426 000000ED 00                              	DB	0
   427 000000EE 00                              	DB	0
   428 000000EF 00                              	DB	0
   429 000000F0 00                              	DB	0
   430 000000F1 00                              	DB	0
   431 000000F2 00                              	DB	0
   432 000000F3 5F                              	DB	95
   433 000000F4 00                              	DB	0
   434 000000F5 00                              	DB	0
   435 000000F6 00                              	DB	0
   436 000000F7 00                              	DB	0
   437 000000F8 00                              	DB	0
   438 000000F9 00                              	DB	0
   439 000000FA 00                              	DB	0
   440 000000FB 00                              	DB	0
   441 000000FC 00                              	DB	0
   442 000000FD 7C                              	DB	124
   443 000000FE 00                              	DB	0
   444 000000FF 00                              	DB	0
   445 00000100                                 LC0:
   446 00000100 74 68 69 73 20 69 73 20 61 20   	DB	"this is a console for debug output",0x0A,0x00
       0000010A 63 6F 6E 73 6F 6C 65 20 66 6F 
       00000114 72 20 64 65 62 75 67 20 6F 75 
       0000011E 74 70 75 74 0A 00 
   447 00000124                                 LC1:
   448 00000124 54 43 4E 54 20 6E 6F 77 20 69   	DB	"TCNT now is %d, race condition occured: %d",0x0A,0x00
       0000012E 73 20 25 64 2C 20 72 61 63 65 
       00000138 20 63 6F 6E 64 69 74 69 6F 6E 
       00000142 20 6F 63 63 75 72 65 64 3A 20 
       0000014C 25 64 0A 00 
   449 00000150                                 LC3:
   450 00000150 0A 42 72 65 61 6B 28 6D 6F 75   	DB	0x0A,"Break(mouse) :",0x0A,0x00
       0000015A 73 65 29 20 3A 0A 00 
   451 00000161                                 LC2:
   452 00000161 0A 42 72 65 61 6B 28 6B 65 79   	DB	0x0A,"Break(key) :",0x0A,0x00
       0000016B 29 20 3A 0A 00 
   453                                          [SECTION .text]
   454 00000112                                 	GLOBAL	_HariMain
   455 00000112                                 _HariMain:
   456 00000112 55                              	PUSH	EBP
   457 00000113 89 E5                           	MOV	EBP,ESP
   458 00000115 57                              	PUSH	EDI
   459 00000116 56                              	PUSH	ESI
   460 00000117 53                              	PUSH	EBX
   461 00000118 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   462 0000011B 81 EC 000004EC                  	SUB	ESP,1260
   463 00000121 C7 85 FFFFFB50 FFFFFFFF         	MOV	DWORD [-1200+EBP],-1
   464 0000012B C7 85 FFFFFB4C 00000000         	MOV	DWORD [-1204+EBP],0
   465 00000135 C7 85 FFFFFB48 7FFFFFFF         	MOV	DWORD [-1208+EBP],2147483647
   466 0000013F C7 85 FFFFFB44 00000000         	MOV	DWORD [-1212+EBP],0
   467 00000149 C7 85 FFFFFB34 00000000         	MOV	DWORD [-1228+EBP],0
   468 00000153 A0 00000FF1                     	MOV	AL,BYTE [4081]
   469 00000158 C0 F8 04                        	SAR	AL,4
   470 0000015B 89 C2                           	MOV	EDX,EAX
   471 0000015D 83 E2 07                        	AND	EDX,7
   472 00000160 89 95 FFFFFB30                  	MOV	DWORD [-1232+EBP],EDX
   473 00000166 C7 85 FFFFFB2C FFFFFFFF         	MOV	DWORD [-1236+EBP],-1
   474 00000170 C7 85 FFFFFB28 FFFFFFFF         	MOV	DWORD [-1240+EBP],-1
   475 0000017A C7 85 FFFFFB24 FFFFFFFF         	MOV	DWORD [-1244+EBP],-1
   476 00000184 C7 85 FFFFFB20 00000000         	MOV	DWORD [-1248+EBP],0
   477 0000018E C7 85 FFFFFB1C 00000000         	MOV	DWORD [-1252+EBP],0
   478 00000198 E8 [00000000]                   	CALL	_init_gdtidt
   479 0000019D E8 [00000000]                   	CALL	_init_pic
   480 000001A2 E8 [00000000]                   	CALL	_io_sti
   481 000001A7 8D 85 FFFFFD84                  	LEA	EAX,DWORD [-636+EBP]
   482 000001AD 6A 00                           	PUSH	0
   483 000001AF 50                              	PUSH	EAX
   484 000001B0 68 00000080                     	PUSH	128
   485 000001B5 53                              	PUSH	EBX
   486 000001B6 E8 [00000000]                   	CALL	_fifo32_init
   487 000001BB 89 1D 00000FEC                  	MOV	DWORD [4076],EBX
   488 000001C1 E8 [00000000]                   	CALL	_init_pit
   489 000001C6 68 00000100                     	PUSH	256
   490 000001CB 53                              	PUSH	EBX
   491 000001CC E8 [00000000]                   	CALL	_init_keyboard
   492 000001D1 8D 85 FFFFFCF4                  	LEA	EAX,DWORD [-780+EBP]
   493 000001D7 50                              	PUSH	EAX
   494 000001D8 68 00000200                     	PUSH	512
   495 000001DD 53                              	PUSH	EBX
   496 000001DE E8 [00000000]                   	CALL	_enable_mouse
   497 000001E3 83 C4 24                        	ADD	ESP,36
   498 000001E6 68 000000F8                     	PUSH	248
   499 000001EB 6A 21                           	PUSH	33
   500 000001ED E8 [00000000]                   	CALL	_io_out8
   501 000001F2 68 000000EF                     	PUSH	239
   502 000001F7 68 000000A1                     	PUSH	161
   503 000001FC E8 [00000000]                   	CALL	_io_out8
   504 00000201 8D 85 FFFFFD04                  	LEA	EAX,DWORD [-764+EBP]
   505 00000207 6A 00                           	PUSH	0
   506 00000209 50                              	PUSH	EAX
   507 0000020A 8D 45 84                        	LEA	EAX,DWORD [-124+EBP]
   508 0000020D 6A 20                           	PUSH	32
   509 0000020F 50                              	PUSH	EAX
   510 00000210 E8 [00000000]                   	CALL	_fifo32_init
   511 00000215 83 C4 20                        	ADD	ESP,32
   512 00000218 68 BFFFFFFF                     	PUSH	-1073741825
   513 0000021D 68 00400000                     	PUSH	4194304
   514 00000222 E8 [00000000]                   	CALL	_memtest
   515 00000227 68 003C0000                     	PUSH	3932160
   516 0000022C 89 85 FFFFFB40                  	MOV	DWORD [-1216+EBP],EAX
   517 00000232 E8 [00000000]                   	CALL	_memman_init
   518 00000237 68 0009E000                     	PUSH	647168
   519 0000023C 68 00001000                     	PUSH	4096
   520 00000241 68 003C0000                     	PUSH	3932160
   521 00000246 E8 [00000000]                   	CALL	_memman_free
   522 0000024B 8B 85 FFFFFB40                  	MOV	EAX,DWORD [-1216+EBP]
   523 00000251 2D 00400000                     	SUB	EAX,4194304
   524 00000256 50                              	PUSH	EAX
   525 00000257 68 00400000                     	PUSH	4194304
   526 0000025C 68 003C0000                     	PUSH	3932160
   527 00000261 E8 [00000000]                   	CALL	_memman_free
   528 00000266 83 C4 24                        	ADD	ESP,36
   529 00000269 E8 [00000000]                   	CALL	_init_palette
   530 0000026E 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   531 00000275 50                              	PUSH	EAX
   532 00000276 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   533 0000027D 50                              	PUSH	EAX
   534 0000027E FF 35 00000FF8                  	PUSH	DWORD [4088]
   535 00000284 68 003C0000                     	PUSH	3932160
   536 00000289 E8 [00000000]                   	CALL	_shtctl_init
   537 0000028E 68 003C0000                     	PUSH	3932160
   538 00000293 89 85 FFFFFB5C                  	MOV	DWORD [-1188+EBP],EAX
   539 00000299 E8 [00000000]                   	CALL	_task_init
   540 0000029E 6A 02                           	PUSH	2
   541 000002A0 6A 01                           	PUSH	1
   542 000002A2 89 85 FFFFFB38                  	MOV	DWORD [-1224+EBP],EAX
   543 000002A8 50                              	PUSH	EAX
   544 000002A9 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
   545 000002AC E8 [00000000]                   	CALL	_task_run
   546 000002B1 83 C4 20                        	ADD	ESP,32
   547 000002B4 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   548 000002BA 89 15 00000FE4                  	MOV	DWORD [4068],EDX
   549 000002C0 52                              	PUSH	EDX
   550 000002C1 E8 [00000000]                   	CALL	_sheet_alloc
   551 000002C6 89 C6                           	MOV	ESI,EAX
   552 000002C8 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   553 000002CF 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   554 000002D6 0F AF C2                        	IMUL	EAX,EDX
   555 000002D9 50                              	PUSH	EAX
   556 000002DA 68 003C0000                     	PUSH	3932160
   557 000002DF E8 [00000000]                   	CALL	_memman_alloc_4k
   558 000002E4 6A FF                           	PUSH	-1
   559 000002E6 89 C3                           	MOV	EBX,EAX
   560 000002E8 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   561 000002EF 50                              	PUSH	EAX
   562 000002F0 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   563 000002F7 50                              	PUSH	EAX
   564 000002F8 53                              	PUSH	EBX
   565 000002F9 56                              	PUSH	ESI
   566 000002FA E8 [00000000]                   	CALL	_sheet_setbuf
   567 000002FF 83 C4 20                        	ADD	ESP,32
   568 00000302 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   569 00000309 50                              	PUSH	EAX
   570 0000030A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   571 00000311 50                              	PUSH	EAX
   572 00000312 53                              	PUSH	EBX
   573 00000313 8D 9D FFFFFBF4                  	LEA	EBX,DWORD [-1036+EBP]
   574 00000319 E8 [00000000]                   	CALL	_init_screen8
   575 0000031E FF B5 FFFFFB40                  	PUSH	DWORD [-1216+EBP]
   576 00000324 FF B5 FFFFFB5C                  	PUSH	DWORD [-1188+EBP]
   577 0000032A E8 00000B8F                     	CALL	_open_console
   578 0000032F FF B5 FFFFFB5C                  	PUSH	DWORD [-1188+EBP]
   579 00000335 89 C7                           	MOV	EDI,EAX
   580 00000337 E8 [00000000]                   	CALL	_sheet_alloc
   581 0000033C 6A 63                           	PUSH	99
   582 0000033E 6A 10                           	PUSH	16
   583 00000340 89 85 FFFFFB3C                  	MOV	DWORD [-1220+EBP],EAX
   584 00000346 6A 10                           	PUSH	16
   585 00000348 53                              	PUSH	EBX
   586 00000349 50                              	PUSH	EAX
   587 0000034A E8 [00000000]                   	CALL	_sheet_setbuf
   588 0000034F 83 C4 2C                        	ADD	ESP,44
   589 00000352 6A 63                           	PUSH	99
   590 00000354 53                              	PUSH	EBX
   591 00000355 BB 00000002                     	MOV	EBX,2
   592 0000035A E8 [00000000]                   	CALL	_init_mouse_cursor8
   593 0000035F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   594 00000366 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   595 00000369 89 C8                           	MOV	EAX,ECX
   596 0000036B 99                              	CDQ
   597 0000036C F7 FB                           	IDIV	EBX
   598 0000036E 89 85 FFFFFB58                  	MOV	DWORD [-1192+EBP],EAX
   599 00000374 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   600 0000037B 6A 00                           	PUSH	0
   601 0000037D 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   602 00000380 6A 00                           	PUSH	0
   603 00000382 89 C8                           	MOV	EAX,ECX
   604 00000384 56                              	PUSH	ESI
   605 00000385 99                              	CDQ
   606 00000386 F7 FB                           	IDIV	EBX
   607 00000388 89 85 FFFFFB54                  	MOV	DWORD [-1196+EBP],EAX
   608 0000038E E8 [00000000]                   	CALL	_sheet_slide
   609 00000393 6A 04                           	PUSH	4
   610 00000395 6A 20                           	PUSH	32
   611 00000397 57                              	PUSH	EDI
   612 00000398 E8 [00000000]                   	CALL	_sheet_slide
   613 0000039D 83 C4 20                        	ADD	ESP,32
   614 000003A0 FF B5 FFFFFB54                  	PUSH	DWORD [-1196+EBP]
   615 000003A6 FF B5 FFFFFB58                  	PUSH	DWORD [-1192+EBP]
   616 000003AC FF B5 FFFFFB3C                  	PUSH	DWORD [-1220+EBP]
   617 000003B2 E8 [00000000]                   	CALL	_sheet_slide
   618 000003B7 6A 00                           	PUSH	0
   619 000003B9 56                              	PUSH	ESI
   620 000003BA E8 [00000000]                   	CALL	_sheet_updown
   621 000003BF 6A 01                           	PUSH	1
   622 000003C1 57                              	PUSH	EDI
   623 000003C2 E8 [00000000]                   	CALL	_sheet_updown
   624 000003C7 6A 02                           	PUSH	2
   625 000003C9 FF B5 FFFFFB3C                  	PUSH	DWORD [-1220+EBP]
   626 000003CF E8 [00000000]                   	CALL	_sheet_updown
   627 000003D4 83 C4 24                        	ADD	ESP,36
   628 000003D7 57                              	PUSH	EDI
   629 000003D8 E8 00000A0D                     	CALL	_keywin_on
   630 000003DD 8D 55 84                        	LEA	EDX,DWORD [-124+EBP]
   631 000003E0 68 000000ED                     	PUSH	237
   632 000003E5 52                              	PUSH	EDX
   633 000003E6 E8 [00000000]                   	CALL	_fifo32_put
   634 000003EB 8D 45 84                        	LEA	EAX,DWORD [-124+EBP]
   635 000003EE FF B5 FFFFFB30                  	PUSH	DWORD [-1232+EBP]
   636 000003F4 50                              	PUSH	EAX
   637 000003F5 E8 [00000000]                   	CALL	_fifo32_put
   638 000003FA C6 85 FFFFFB13 01               	MOV	BYTE [-1261+EBP],1
   639 00000401 C7 85 FFFFFB70 00000000         	MOV	DWORD [-1168+EBP],0
   640 0000040B C7 85 FFFFFB6C 00000000         	MOV	DWORD [-1172+EBP],0
   641 00000415 C7 85 FFFFFB60 00000001         	MOV	DWORD [-1184+EBP],1
   642 0000041F C7 85 FFFFFB68 00000000         	MOV	DWORD [-1176+EBP],0
   643 00000429 E8 [00000000]                   	CALL	_task_alloc
   644 0000042E 89 C3                           	MOV	EBX,EAX
   645 00000430 E8 [00000000]                   	CALL	_task_alloc
   646 00000435 89 C6                           	MOV	ESI,EAX
   647 00000437 68 [00000100]                   	PUSH	LC0
   648 0000043C 8D 85 FFFFFB74                  	LEA	EAX,DWORD [-1164+EBP]
   649 00000442 50                              	PUSH	EAX
   650 00000443 E8 [00000000]                   	CALL	_sprintf
   651 00000448 FF B5 FFFFFB40                  	PUSH	DWORD [-1216+EBP]
   652 0000044E FF B5 FFFFFB5C                  	PUSH	DWORD [-1188+EBP]
   653 00000454 E8 00000A65                     	CALL	_open_console
   654 00000459 83 C4 24                        	ADD	ESP,36
   655 0000045C 6A 04                           	PUSH	4
   656 0000045E 89 85 FFFFFB14                  	MOV	DWORD [-1260+EBP],EAX
   657 00000464 6A 40                           	PUSH	64
   658 00000466 50                              	PUSH	EAX
   659 00000467 E8 [00000000]                   	CALL	_sheet_slide
   660 0000046C 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   661 00000472 FF 72 10                        	PUSH	DWORD [16+EDX]
   662 00000475 FF B5 FFFFFB14                  	PUSH	DWORD [-1260+EBP]
   663 0000047B E8 [00000000]                   	CALL	_sheet_updown
   664 00000480 68 00010000                     	PUSH	65536
   665 00000485 68 003C0000                     	PUSH	3932160
   666 0000048A C7 85 FFFFFB64 00000000         	MOV	DWORD [-1180+EBP],0
   667 00000494 E8 [00000000]                   	CALL	_memman_alloc_4k
   668 00000499 8D 95 FFFFFB70                  	LEA	EDX,DWORD [-1168+EBP]
   669 0000049F C7 43 4C [00000081]             	MOV	DWORD [76+EBX],_test_race_condition2
   670 000004A6 89 83 000000AC                  	MOV	DWORD [172+EBX],EAX
   671 000004AC 05 0000FFEC                     	ADD	EAX,65516
   672 000004B1 89 43 64                        	MOV	DWORD [100+EBX],EAX
   673 000004B4 C7 43 74 00000008               	MOV	DWORD [116+EBX],8
   674 000004BB C7 43 78 00000010               	MOV	DWORD [120+EBX],16
   675 000004C2 C7 43 7C 00000008               	MOV	DWORD [124+EBX],8
   676 000004C9 C7 83 00000080 00000008         	MOV	DWORD [128+EBX],8
   677 000004D3 C7 83 00000084 00000008         	MOV	DWORD [132+EBX],8
   678 000004DD C7 83 00000088 00000008         	MOV	DWORD [136+EBX],8
   679 000004E7 89 50 04                        	MOV	DWORD [4+EAX],EDX
   680 000004EA 8D 85 FFFFFB6C                  	LEA	EAX,DWORD [-1172+EBP]
   681 000004F0 8B 53 64                        	MOV	EDX,DWORD [100+EBX]
   682 000004F3 89 42 08                        	MOV	DWORD [8+EDX],EAX
   683 000004F6 8D 95 FFFFFB68                  	LEA	EDX,DWORD [-1176+EBP]
   684 000004FC 8B 43 64                        	MOV	EAX,DWORD [100+EBX]
   685 000004FF 89 50 0C                        	MOV	DWORD [12+EAX],EDX
   686 00000502 8D 95 FFFFFB64                  	LEA	EDX,DWORD [-1180+EBP]
   687 00000508 8B 43 64                        	MOV	EAX,DWORD [100+EBX]
   688 0000050B 89 50 10                        	MOV	DWORD [16+EAX],EDX
   689 0000050E 68 00010000                     	PUSH	65536
   690 00000513 68 003C0000                     	PUSH	3932160
   691 00000518 E8 [00000000]                   	CALL	_memman_alloc_4k
   692 0000051D 83 C4 24                        	ADD	ESP,36
   693 00000520 8D 95 FFFFFB70                  	LEA	EDX,DWORD [-1168+EBP]
   694 00000526 89 86 000000AC                  	MOV	DWORD [172+ESI],EAX
   695 0000052C 05 0000FFEC                     	ADD	EAX,65516
   696 00000531 89 46 64                        	MOV	DWORD [100+ESI],EAX
   697 00000534 C7 46 4C [00000081]             	MOV	DWORD [76+ESI],_test_race_condition2
   698 0000053B C7 46 74 00000008               	MOV	DWORD [116+ESI],8
   699 00000542 C7 46 78 00000010               	MOV	DWORD [120+ESI],16
   700 00000549 C7 46 7C 00000008               	MOV	DWORD [124+ESI],8
   701 00000550 C7 86 00000080 00000008         	MOV	DWORD [128+ESI],8
   702 0000055A C7 86 00000084 00000008         	MOV	DWORD [132+ESI],8
   703 00000564 C7 86 00000088 00000008         	MOV	DWORD [136+ESI],8
   704 0000056E 89 50 04                        	MOV	DWORD [4+EAX],EDX
   705 00000571 8D 85 FFFFFB60                  	LEA	EAX,DWORD [-1184+EBP]
   706 00000577 8B 56 64                        	MOV	EDX,DWORD [100+ESI]
   707 0000057A 89 42 08                        	MOV	DWORD [8+EDX],EAX
   708 0000057D 8D 95 FFFFFB68                  	LEA	EDX,DWORD [-1176+EBP]
   709 00000583 8B 46 64                        	MOV	EAX,DWORD [100+ESI]
   710 00000586 89 50 0C                        	MOV	DWORD [12+EAX],EDX
   711 00000589 8D 95 FFFFFB64                  	LEA	EDX,DWORD [-1180+EBP]
   712 0000058F 8B 46 64                        	MOV	EAX,DWORD [100+ESI]
   713 00000592 89 50 10                        	MOV	DWORD [16+EAX],EDX
   714 00000595 6A 00                           	PUSH	0
   715 00000597 6A 02                           	PUSH	2
   716 00000599 53                              	PUSH	EBX
   717 0000059A E8 [00000000]                   	CALL	_task_run
   718 0000059F 6A 00                           	PUSH	0
   719 000005A1 6A 02                           	PUSH	2
   720 000005A3 56                              	PUSH	ESI
   721 000005A4 E8 [00000000]                   	CALL	_task_run
   722 000005A9                                 L118:
   723 000005A9 83 C4 18                        	ADD	ESP,24
   724 000005AC                                 L43:
   725 000005AC 80 BD FFFFFB13 00               	CMP	BYTE [-1261+EBP],0
   726 000005B3 74 30                           	JE	L46
   727 000005B5 8B 95 FFFFFB14                  	MOV	EDX,DWORD [-1260+EBP]
   728 000005BB 8B 42 24                        	MOV	EAX,DWORD [36+EDX]
   729 000005BE 83 B8 000000A4 00               	CMP	DWORD [164+EAX],0
   730 000005C5 74 1E                           	JE	L46
   731 000005C7 8D 85 FFFFFB74                  	LEA	EAX,DWORD [-1164+EBP]
   732 000005CD 50                              	PUSH	EAX
   733 000005CE 8B 42 24                        	MOV	EAX,DWORD [36+EDX]
   734 000005D1 C6 85 FFFFFB13 00               	MOV	BYTE [-1261+EBP],0
   735 000005D8 FF B0 000000A4                  	PUSH	DWORD [164+EAX]
   736 000005DE E8 [00000000]                   	CALL	_cons_putstr0
   737 000005E3 59                              	POP	ECX
   738 000005E4 5B                              	POP	EBX
   739 000005E5                                 L46:
   740 000005E5 8B 95 FFFFFB14                  	MOV	EDX,DWORD [-1260+EBP]
   741 000005EB 8B 42 24                        	MOV	EAX,DWORD [36+EDX]
   742 000005EE 83 B8 000000A4 00               	CMP	DWORD [164+EAX],0
   743 000005F5 74 35                           	JE	L47
   744 000005F7 FF B5 FFFFFB68                  	PUSH	DWORD [-1176+EBP]
   745 000005FD FF B5 FFFFFB70                  	PUSH	DWORD [-1168+EBP]
   746 00000603 68 [00000124]                   	PUSH	LC1
   747 00000608 8D 9D FFFFFB74                  	LEA	EBX,DWORD [-1164+EBP]
   748 0000060E 53                              	PUSH	EBX
   749 0000060F E8 [00000000]                   	CALL	_sprintf
   750 00000614 8B 95 FFFFFB14                  	MOV	EDX,DWORD [-1260+EBP]
   751 0000061A 53                              	PUSH	EBX
   752 0000061B 8B 42 24                        	MOV	EAX,DWORD [36+EDX]
   753 0000061E FF B0 000000A4                  	PUSH	DWORD [164+EAX]
   754 00000624 E8 [00000000]                   	CALL	_cons_putstr0
   755 00000629 83 C4 18                        	ADD	ESP,24
   756 0000062C                                 L47:
   757 0000062C 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
   758 0000062F 53                              	PUSH	EBX
   759 00000630 E8 [00000000]                   	CALL	_fifo32_status
   760 00000635 5A                              	POP	EDX
   761 00000636 85 C0                           	TEST	EAX,EAX
   762 00000638 7E 0D                           	JLE	L48
   763 0000063A 83 BD FFFFFB2C 00               	CMP	DWORD [-1236+EBP],0
   764 00000641 0F 88 0000074F                  	JS	L123
   765 00000647                                 L48:
   766 00000647 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   767 0000064A E8 [00000000]                   	CALL	_io_cli
   768 0000064F 53                              	PUSH	EBX
   769 00000650 E8 [00000000]                   	CALL	_fifo32_status
   770 00000655 5E                              	POP	ESI
   771 00000656 85 C0                           	TEST	EAX,EAX
   772 00000658 0F 84 000006D9                  	JE	L124
   773 0000065E 53                              	PUSH	EBX
   774 0000065F E8 [00000000]                   	CALL	_fifo32_get
   775 00000664 89 C6                           	MOV	ESI,EAX
   776 00000666 E8 [00000000]                   	CALL	_io_sti
   777 0000066B 5B                              	POP	EBX
   778 0000066C 85 FF                           	TEST	EDI,EDI
   779 0000066E 74 27                           	JE	L55
   780 00000670 83 7F 1C 00                     	CMP	DWORD [28+EDI],0
   781 00000674 75 21                           	JNE	L55
   782 00000676 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   783 0000067C 31 FF                           	XOR	EDI,EDI
   784 0000067E 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
   785 00000681 83 F8 01                        	CMP	EAX,1
   786 00000684 74 11                           	JE	L55
   787 00000686 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   788 0000068C 8B 7C 82 10                     	MOV	EDI,DWORD [16+EDX+EAX*4]
   789 00000690 57                              	PUSH	EDI
   790 00000691 E8 00000754                     	CALL	_keywin_on
   791 00000696 59                              	POP	ECX
   792 00000697                                 L55:
   793 00000697 8D 86 FFFFFF00                  	LEA	EAX,DWORD [-256+ESI]
   794 0000069D 3D 000000FF                     	CMP	EAX,255
   795 000006A2 0F 86 00000399                  	JBE	L125
   796 000006A8 8D 86 FFFFFE00                  	LEA	EAX,DWORD [-512+ESI]
   797 000006AE 3D 000000FF                     	CMP	EAX,255
   798 000006B3 0F 86 00000093                  	JBE	L126
   799 000006B9 8D 86 FFFFFD00                  	LEA	EAX,DWORD [-768+ESI]
   800 000006BF 3D 000000FF                     	CMP	EAX,255
   801 000006C4 76 6E                           	JBE	L127
   802 000006C6 8D 86 FFFFFC00                  	LEA	EAX,DWORD [-1024+ESI]
   803 000006CC 3D 000003E7                     	CMP	EAX,999
   804 000006D1 76 43                           	JBE	L128
   805 000006D3 8D 86 FFFFF818                  	LEA	EAX,DWORD [-2024+ESI]
   806 000006D9 3D 000000FF                     	CMP	EAX,255
   807 000006DE 0F 87 FFFFFEC8                  	JA	L43
   808 000006E4 6B C6 28                        	IMUL	EAX,ESI,40
   809 000006E7 03 85 FFFFFB5C                  	ADD	EAX,DWORD [-1188+EBP]
   810 000006ED 68 0000A500                     	PUSH	42240
   811 000006F2 FF B0 FFFEC7D4                  	PUSH	DWORD [-79916+EAX]
   812 000006F8 68 003C0000                     	PUSH	3932160
   813 000006FD 8D 98 FFFEC7D4                  	LEA	EBX,DWORD [-79916+EAX]
   814 00000703 E8 [00000000]                   	CALL	_memman_free_4k
   815 00000708 53                              	PUSH	EBX
   816 00000709 E8 [00000000]                   	CALL	_sheet_free
   817 0000070E 83 C4 10                        	ADD	ESP,16
   818 00000711 E9 FFFFFE96                     	JMP	L43
   819 00000716                                 L128:
   820 00000716 69 F6 000000B0                  	IMUL	ESI,ESI,176
   821 0000071C 03 35 [00000000]                	ADD	ESI,DWORD [_taskctl]
   822 00000722 8D 86 FFFD4FF8                  	LEA	EAX,DWORD [-176136+ESI]
   823 00000728 50                              	PUSH	EAX
   824 00000729 E8 0000080F                     	CALL	_close_constask
   825 0000072E                                 L117:
   826 0000072E 59                              	POP	ECX
   827 0000072F E9 FFFFFE78                     	JMP	L43
   828 00000734                                 L127:
   829 00000734 6B C6 28                        	IMUL	EAX,ESI,40
   830 00000737 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   831 0000073D 8D 84 10 FFFF8C14               	LEA	EAX,DWORD [-29676+EAX+EDX*1]
   832 00000744 50                              	PUSH	EAX
   833 00000745 E8 00000833                     	CALL	_close_console
   834 0000074A EB E2                           	JMP	L117
   835 0000074C                                 L126:
   836 0000074C 89 F2                           	MOV	EDX,ESI
   837 0000074E 0F B6 C2                        	MOVZX	EAX,DL
   838 00000751 50                              	PUSH	EAX
   839 00000752 8D 85 FFFFFCF4                  	LEA	EAX,DWORD [-780+EBP]
   840 00000758 50                              	PUSH	EAX
   841 00000759 E8 [00000000]                   	CALL	_mouse_decode
   842 0000075E 5A                              	POP	EDX
   843 0000075F 59                              	POP	ECX
   844 00000760 85 C0                           	TEST	EAX,EAX
   845 00000762 0F 84 FFFFFE44                  	JE	L43
   846 00000768 8B 85 FFFFFCFC                  	MOV	EAX,DWORD [-772+EBP]
   847 0000076E 8B 95 FFFFFCF8                  	MOV	EDX,DWORD [-776+EBP]
   848 00000774 01 85 FFFFFB54                  	ADD	DWORD [-1196+EBP],EAX
   849 0000077A 01 95 FFFFFB58                  	ADD	DWORD [-1192+EBP],EDX
   850 00000780 0F 88 000002AC                  	JS	L129
   851 00000786                                 L87:
   852 00000786 83 BD FFFFFB54 00               	CMP	DWORD [-1196+EBP],0
   853 0000078D 0F 88 00000290                  	JS	L130
   854 00000793                                 L88:
   855 00000793 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   856 0000079A 48                              	DEC	EAX
   857 0000079B 39 85 FFFFFB58                  	CMP	DWORD [-1192+EBP],EAX
   858 000007A1 7E 06                           	JLE	L89
   859 000007A3 89 85 FFFFFB58                  	MOV	DWORD [-1192+EBP],EAX
   860 000007A9                                 L89:
   861 000007A9 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   862 000007B0 48                              	DEC	EAX
   863 000007B1 39 85 FFFFFB54                  	CMP	DWORD [-1196+EBP],EAX
   864 000007B7 7E 06                           	JLE	L90
   865 000007B9 89 85 FFFFFB54                  	MOV	DWORD [-1196+EBP],EAX
   866 000007BF                                 L90:
   867 000007BF 8B 85 FFFFFB58                  	MOV	EAX,DWORD [-1192+EBP]
   868 000007C5 8B 95 FFFFFB54                  	MOV	EDX,DWORD [-1196+EBP]
   869 000007CB 89 85 FFFFFB50                  	MOV	DWORD [-1200+EBP],EAX
   870 000007D1 89 95 FFFFFB4C                  	MOV	DWORD [-1204+EBP],EDX
   871 000007D7 F7 85 FFFFFD00 00000001         	TEST	DWORD [-768+EBP],1
   872 000007E1 75 43                           	JNE	L131
   873 000007E3 C7 85 FFFFFB28 FFFFFFFF         	MOV	DWORD [-1240+EBP],-1
   874 000007ED 81 BD FFFFFB48 7FFFFFFF         	CMP	DWORD [-1208+EBP],2147483647
   875 000007F7 0F 84 FFFFFDAF                  	JE	L43
   876 000007FD                                 L119:
   877 000007FD FF B5 FFFFFB44                  	PUSH	DWORD [-1212+EBP]
   878 00000803 FF B5 FFFFFB48                  	PUSH	DWORD [-1208+EBP]
   879 00000809 FF B5 FFFFFB1C                  	PUSH	DWORD [-1252+EBP]
   880 0000080F E8 [00000000]                   	CALL	_sheet_slide
   881 00000814 C7 85 FFFFFB48 7FFFFFFF         	MOV	DWORD [-1208+EBP],2147483647
   882 0000081E                                 L120:
   883 0000081E 83 C4 0C                        	ADD	ESP,12
   884 00000821 E9 FFFFFD86                     	JMP	L43
   885 00000826                                 L131:
   886 00000826 83 BD FFFFFB28 00               	CMP	DWORD [-1240+EBP],0
   887 0000082D 78 46                           	JS	L132
   888 0000082F 8B 9D FFFFFB58                  	MOV	EBX,DWORD [-1192+EBP]
   889 00000835 8B 85 FFFFFB20                  	MOV	EAX,DWORD [-1248+EBP]
   890 0000083B 2B 9D FFFFFB28                  	SUB	EBX,DWORD [-1240+EBP]
   891 00000841 8B B5 FFFFFB54                  	MOV	ESI,DWORD [-1196+EBP]
   892 00000847 2B B5 FFFFFB24                  	SUB	ESI,DWORD [-1244+EBP]
   893 0000084D 8B 95 FFFFFB54                  	MOV	EDX,DWORD [-1196+EBP]
   894 00000853 8D 5C 03 02                     	LEA	EBX,DWORD [2+EBX+EAX*1]
   895 00000857 89 95 FFFFFB24                  	MOV	DWORD [-1244+EBP],EDX
   896 0000085D 89 9D FFFFFB48                  	MOV	DWORD [-1208+EBP],EBX
   897 00000863 01 B5 FFFFFB44                  	ADD	DWORD [-1212+EBP],ESI
   898 00000869 83 A5 FFFFFB48 FC               	AND	DWORD [-1208+EBP],-4
   899 00000870 E9 FFFFFD37                     	JMP	L43
   900 00000875                                 L132:
   901 00000875 8B 85 FFFFFB5C                  	MOV	EAX,DWORD [-1188+EBP]
   902 0000087B 8B 40 10                        	MOV	EAX,DWORD [16+EAX]
   903 0000087E 89 85 FFFFFB0C                  	MOV	DWORD [-1268+EBP],EAX
   904 00000884 89 C1                           	MOV	ECX,EAX
   905 00000886                                 L122:
   906 00000886 49                              	DEC	ECX
   907 00000887 85 C9                           	TEST	ECX,ECX
   908 00000889 0F 8E FFFFFD1D                  	JLE	L43
   909 0000088F 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   910 00000895 8B B5 FFFFFB54                  	MOV	ESI,DWORD [-1196+EBP]
   911 0000089B 8B 9D FFFFFB58                  	MOV	EBX,DWORD [-1192+EBP]
   912 000008A1 8B 54 8A 14                     	MOV	EDX,DWORD [20+EDX+ECX*4]
   913 000008A5 89 95 FFFFFB1C                  	MOV	DWORD [-1252+EBP],EDX
   914 000008AB 2B 72 10                        	SUB	ESI,DWORD [16+EDX]
   915 000008AE 2B 5A 0C                        	SUB	EBX,DWORD [12+EDX]
   916 000008B1 78 D3                           	JS	L122
   917 000008B3 8B 42 04                        	MOV	EAX,DWORD [4+EDX]
   918 000008B6 39 C3                           	CMP	EBX,EAX
   919 000008B8 7D CC                           	JGE	L122
   920 000008BA 85 F6                           	TEST	ESI,ESI
   921 000008BC 78 C8                           	JS	L122
   922 000008BE 3B 72 08                        	CMP	ESI,DWORD [8+EDX]
   923 000008C1 7D C3                           	JGE	L122
   924 000008C3 0F AF C6                        	IMUL	EAX,ESI
   925 000008C6 89 85 FFFFFB08                  	MOV	DWORD [-1272+EBP],EAX
   926 000008CC 8B 12                           	MOV	EDX,DWORD [EDX]
   927 000008CE 8B 85 FFFFFB08                  	MOV	EAX,DWORD [-1272+EBP]
   928 000008D4 01 D8                           	ADD	EAX,EBX
   929 000008D6 0F B6 04 10                     	MOVZX	EAX,BYTE [EAX+EDX*1]
   930 000008DA 8B 95 FFFFFB1C                  	MOV	EDX,DWORD [-1252+EBP]
   931 000008E0 3B 42 14                        	CMP	EAX,DWORD [20+EDX]
   932 000008E3 74 A1                           	JE	L122
   933 000008E5 8B 85 FFFFFB0C                  	MOV	EAX,DWORD [-1268+EBP]
   934 000008EB 48                              	DEC	EAX
   935 000008EC 50                              	PUSH	EAX
   936 000008ED 52                              	PUSH	EDX
   937 000008EE E8 [00000000]                   	CALL	_sheet_updown
   938 000008F3 39 BD FFFFFB1C                  	CMP	DWORD [-1252+EBP],EDI
   939 000008F9 59                              	POP	ECX
   940 000008FA 58                              	POP	EAX
   941 000008FB 74 14                           	JE	L99
   942 000008FD 57                              	PUSH	EDI
   943 000008FE E8 000004B9                     	CALL	_keywin_off
   944 00000903 8B BD FFFFFB1C                  	MOV	EDI,DWORD [-1252+EBP]
   945 00000909 57                              	PUSH	EDI
   946 0000090A E8 000004DB                     	CALL	_keywin_on
   947 0000090F 58                              	POP	EAX
   948 00000910 5A                              	POP	EDX
   949 00000911                                 L99:
   950 00000911 83 FB 02                        	CMP	EBX,2
   951 00000914 7E 50                           	JLE	L100
   952 00000916 8B 95 FFFFFB1C                  	MOV	EDX,DWORD [-1252+EBP]
   953 0000091C 8B 42 04                        	MOV	EAX,DWORD [4+EDX]
   954 0000091F 83 E8 03                        	SUB	EAX,3
   955 00000922 39 C3                           	CMP	EBX,EAX
   956 00000924 7D 40                           	JGE	L100
   957 00000926 83 FE 02                        	CMP	ESI,2
   958 00000929 7E 3B                           	JLE	L100
   959 0000092B 83 FE 14                        	CMP	ESI,20
   960 0000092E 7F 36                           	JG	L100
   961 00000930 8B 85 FFFFFB58                  	MOV	EAX,DWORD [-1192+EBP]
   962 00000936 8B 95 FFFFFB54                  	MOV	EDX,DWORD [-1196+EBP]
   963 0000093C 89 85 FFFFFB28                  	MOV	DWORD [-1240+EBP],EAX
   964 00000942 89 95 FFFFFB24                  	MOV	DWORD [-1244+EBP],EDX
   965 00000948 8B 85 FFFFFB1C                  	MOV	EAX,DWORD [-1252+EBP]
   966 0000094E 8B 95 FFFFFB1C                  	MOV	EDX,DWORD [-1252+EBP]
   967 00000954 8B 40 0C                        	MOV	EAX,DWORD [12+EAX]
   968 00000957 8B 52 10                        	MOV	EDX,DWORD [16+EDX]
   969 0000095A 89 85 FFFFFB20                  	MOV	DWORD [-1248+EBP],EAX
   970 00000960 89 95 FFFFFB44                  	MOV	DWORD [-1212+EBP],EDX
   971 00000966                                 L100:
   972 00000966 8B 85 FFFFFB1C                  	MOV	EAX,DWORD [-1252+EBP]
   973 0000096C 8B 50 04                        	MOV	EDX,DWORD [4+EAX]
   974 0000096F 8D 42 EB                        	LEA	EAX,DWORD [-21+EDX]
   975 00000972 39 D8                           	CMP	EAX,EBX
   976 00000974 0F 8F FFFFFC32                  	JG	L43
   977 0000097A 8D 42 FB                        	LEA	EAX,DWORD [-5+EDX]
   978 0000097D 39 C3                           	CMP	EBX,EAX
   979 0000097F 0F 8D FFFFFC27                  	JGE	L43
   980 00000985 83 FE 04                        	CMP	ESI,4
   981 00000988 0F 8E FFFFFC1E                  	JLE	L43
   982 0000098E 83 FE 12                        	CMP	ESI,18
   983 00000991 0F 8F FFFFFC15                  	JG	L43
   984 00000997 8B 95 FFFFFB1C                  	MOV	EDX,DWORD [-1252+EBP]
   985 0000099D F6 42 1C 10                     	TEST	BYTE [28+EDX],16
   986 000009A1 74 42                           	JE	L133
   987 000009A3 8B 85 FFFFFB1C                  	MOV	EAX,DWORD [-1252+EBP]
   988 000009A9 8B 58 24                        	MOV	EBX,DWORD [36+EAX]
   989 000009AC 68 [00000150]                   	PUSH	LC3
   990 000009B1 FF B3 000000A4                  	PUSH	DWORD [164+EBX]
   991 000009B7 E8 [00000000]                   	CALL	_cons_putstr0
   992 000009BC E8 [00000000]                   	CALL	_io_cli
   993 000009C1 8D 43 30                        	LEA	EAX,DWORD [48+EBX]
   994 000009C4 89 43 54                        	MOV	DWORD [84+EBX],EAX
   995 000009C7 C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_asm_end_app
   996 000009CE E8 [00000000]                   	CALL	_io_sti
   997 000009D3 6A 00                           	PUSH	0
   998 000009D5 6A FF                           	PUSH	-1
   999 000009D7 53                              	PUSH	EBX
  1000 000009D8 E8 [00000000]                   	CALL	_task_run
  1001 000009DD 83 C4 14                        	ADD	ESP,20
  1002 000009E0 E9 FFFFFBC7                     	JMP	L43
  1003 000009E5                                 L133:
  1004 000009E5 8B 5A 24                        	MOV	EBX,DWORD [36+EDX]
  1005 000009E8 6A FF                           	PUSH	-1
  1006 000009EA 52                              	PUSH	EDX
  1007 000009EB E8 [00000000]                   	CALL	_sheet_updown
  1008 000009F0 57                              	PUSH	EDI
  1009 000009F1 E8 000003C6                     	CALL	_keywin_off
  1010 000009F6 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
  1011 000009FC 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
  1012 000009FF 8B 7C 82 10                     	MOV	EDI,DWORD [16+EDX+EAX*4]
  1013 00000A03 57                              	PUSH	EDI
  1014 00000A04 E8 000003E1                     	CALL	_keywin_on
  1015 00000A09 E8 [00000000]                   	CALL	_io_cli
  1016 00000A0E 8D 43 10                        	LEA	EAX,DWORD [16+EBX]
  1017 00000A11 6A 04                           	PUSH	4
  1018 00000A13 50                              	PUSH	EAX
  1019 00000A14 E8 [00000000]                   	CALL	_fifo32_put
  1020 00000A19 E8 [00000000]                   	CALL	_io_sti
  1021 00000A1E E9 FFFFFB86                     	JMP	L118
  1022 00000A23                                 L130:
  1023 00000A23 C7 85 FFFFFB54 00000000         	MOV	DWORD [-1196+EBP],0
  1024 00000A2D E9 FFFFFD61                     	JMP	L88
  1025 00000A32                                 L129:
  1026 00000A32 C7 85 FFFFFB58 00000000         	MOV	DWORD [-1192+EBP],0
  1027 00000A3C E9 FFFFFD45                     	JMP	L87
  1028 00000A41                                 L125:
  1029 00000A41 81 FE 0000017F                  	CMP	ESI,383
  1030 00000A47 0F 8F 000002E1                  	JG	L59
  1031 00000A4D 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1032 00000A54 0F 85 000002C9                  	JNE	L60
  1033 00000A5A 8A 86 [FFFFFF00]                	MOV	AL,BYTE [_keytable0.0-256+ESI]
  1034 00000A60                                 L121:
  1035 00000A60 88 45 C4                        	MOV	BYTE [-60+EBP],AL
  1036 00000A63                                 L62:
  1037 00000A63 8A 55 C4                        	MOV	DL,BYTE [-60+EBP]
  1038 00000A66 8D 42 BF                        	LEA	EAX,DWORD [-65+EDX]
  1039 00000A69 3C 19                           	CMP	AL,25
  1040 00000A6B 77 1D                           	JA	L63
  1041 00000A6D F7 85 FFFFFB30 00000004         	TEST	DWORD [-1232+EBP],4
  1042 00000A77 0F 85 00000297                  	JNE	L115
  1043 00000A7D 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1044 00000A84 0F 84 0000027F                  	JE	L65
  1045 00000A8A                                 L63:
  1046 00000A8A 8A 45 C4                        	MOV	AL,BYTE [-60+EBP]
  1047 00000A8D 84 C0                           	TEST	AL,AL
  1048 00000A8F 74 1B                           	JE	L67
  1049 00000A91 85 FF                           	TEST	EDI,EDI
  1050 00000A93 74 17                           	JE	L67
  1051 00000A95 0F BE C0                        	MOVSX	EAX,AL
  1052 00000A98 05 00000100                     	ADD	EAX,256
  1053 00000A9D 50                              	PUSH	EAX
  1054 00000A9E 8B 47 24                        	MOV	EAX,DWORD [36+EDI]
  1055 00000AA1 83 C0 10                        	ADD	EAX,16
  1056 00000AA4 50                              	PUSH	EAX
  1057 00000AA5 E8 [00000000]                   	CALL	_fifo32_put
  1058 00000AAA 58                              	POP	EAX
  1059 00000AAB 5A                              	POP	EDX
  1060 00000AAC                                 L67:
  1061 00000AAC 81 FE 0000010F                  	CMP	ESI,271
  1062 00000AB2 0F 84 0000021C                  	JE	L134
  1063 00000AB8                                 L68:
  1064 00000AB8 81 FE 0000012A                  	CMP	ESI,298
  1065 00000ABE 0F 84 00000204                  	JE	L135
  1066 00000AC4                                 L70:
  1067 00000AC4 81 FE 00000136                  	CMP	ESI,310
  1068 00000ACA 0F 84 000001EC                  	JE	L136
  1069 00000AD0                                 L71:
  1070 00000AD0 81 FE 000001AA                  	CMP	ESI,426
  1071 00000AD6 0F 84 000001D4                  	JE	L137
  1072 00000ADC                                 L72:
  1073 00000ADC 81 FE 000001B6                  	CMP	ESI,438
  1074 00000AE2 0F 84 000001BC                  	JE	L138
  1075 00000AE8                                 L73:
  1076 00000AE8 81 FE 0000013A                  	CMP	ESI,314
  1077 00000AEE 0F 84 00000187                  	JE	L139
  1078 00000AF4                                 L74:
  1079 00000AF4 81 FE 00000145                  	CMP	ESI,325
  1080 00000AFA 0F 84 00000152                  	JE	L140
  1081 00000B00                                 L75:
  1082 00000B00 81 FE 00000146                  	CMP	ESI,326
  1083 00000B06 0F 84 0000011D                  	JE	L141
  1084 00000B0C                                 L76:
  1085 00000B0C 81 FE 0000013B                  	CMP	ESI,315
  1086 00000B12 0F 84 000000AE                  	JE	L142
  1087 00000B18                                 L77:
  1088 00000B18 81 FE 0000013C                  	CMP	ESI,316
  1089 00000B1E 74 58                           	JE	L143
  1090 00000B20                                 L79:
  1091 00000B20 81 FE 00000157                  	CMP	ESI,343
  1092 00000B26 74 39                           	JE	L144
  1093 00000B28                                 L81:
  1094 00000B28 81 FE 000001FA                  	CMP	ESI,506
  1095 00000B2E 74 25                           	JE	L145
  1096 00000B30                                 L82:
  1097 00000B30 81 FE 000001FE                  	CMP	ESI,510
  1098 00000B36 0F 85 FFFFFA70                  	JNE	L43
  1099 00000B3C E8 [00000000]                   	CALL	_wait_KBC_sendready
  1100 00000B41 FF B5 FFFFFB2C                  	PUSH	DWORD [-1236+EBP]
  1101 00000B47 6A 60                           	PUSH	96
  1102 00000B49 E8 [00000000]                   	CALL	_io_out8
  1103 00000B4E 5B                              	POP	EBX
  1104 00000B4F 5E                              	POP	ESI
  1105 00000B50 E9 FFFFFA57                     	JMP	L43
  1106 00000B55                                 L145:
  1107 00000B55 C7 85 FFFFFB2C FFFFFFFF         	MOV	DWORD [-1236+EBP],-1
  1108 00000B5F EB CF                           	JMP	L82
  1109 00000B61                                 L144:
  1110 00000B61 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
  1111 00000B67 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
  1112 00000B6A 48                              	DEC	EAX
  1113 00000B6B 50                              	PUSH	EAX
  1114 00000B6C FF 72 18                        	PUSH	DWORD [24+EDX]
  1115 00000B6F E8 [00000000]                   	CALL	_sheet_updown
  1116 00000B74 58                              	POP	EAX
  1117 00000B75 5A                              	POP	EDX
  1118 00000B76 EB B0                           	JMP	L81
  1119 00000B78                                 L143:
  1120 00000B78 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1121 00000B7F 74 9F                           	JE	L79
  1122 00000B81 85 FF                           	TEST	EDI,EDI
  1123 00000B83 74 07                           	JE	L80
  1124 00000B85 57                              	PUSH	EDI
  1125 00000B86 E8 00000231                     	CALL	_keywin_off
  1126 00000B8B 59                              	POP	ECX
  1127 00000B8C                                 L80:
  1128 00000B8C FF B5 FFFFFB40                  	PUSH	DWORD [-1216+EBP]
  1129 00000B92 FF B5 FFFFFB5C                  	PUSH	DWORD [-1188+EBP]
  1130 00000B98 E8 00000321                     	CALL	_open_console
  1131 00000B9D 6A 04                           	PUSH	4
  1132 00000B9F 6A 20                           	PUSH	32
  1133 00000BA1 89 C7                           	MOV	EDI,EAX
  1134 00000BA3 50                              	PUSH	EAX
  1135 00000BA4 E8 [00000000]                   	CALL	_sheet_slide
  1136 00000BA9 8B 85 FFFFFB5C                  	MOV	EAX,DWORD [-1188+EBP]
  1137 00000BAF FF 70 10                        	PUSH	DWORD [16+EAX]
  1138 00000BB2 57                              	PUSH	EDI
  1139 00000BB3 E8 [00000000]                   	CALL	_sheet_updown
  1140 00000BB8 57                              	PUSH	EDI
  1141 00000BB9 E8 0000022C                     	CALL	_keywin_on
  1142 00000BBE 83 C4 20                        	ADD	ESP,32
  1143 00000BC1 E9 FFFFFF5A                     	JMP	L79
  1144 00000BC6                                 L142:
  1145 00000BC6 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1146 00000BCD 0F 84 FFFFFF45                  	JE	L77
  1147 00000BD3 85 FF                           	TEST	EDI,EDI
  1148 00000BD5 0F 84 FFFFFF3D                  	JE	L77
  1149 00000BDB 8B 5F 24                        	MOV	EBX,DWORD [36+EDI]
  1150 00000BDE 85 DB                           	TEST	EBX,EBX
  1151 00000BE0 0F 84 FFFFFF32                  	JE	L77
  1152 00000BE6 83 7B 34 00                     	CMP	DWORD [52+EBX],0
  1153 00000BEA 0F 84 FFFFFF28                  	JE	L77
  1154 00000BF0 68 [00000161]                   	PUSH	LC2
  1155 00000BF5 FF B3 000000A4                  	PUSH	DWORD [164+EBX]
  1156 00000BFB E8 [00000000]                   	CALL	_cons_putstr0
  1157 00000C00 E8 [00000000]                   	CALL	_io_cli
  1158 00000C05 8D 43 30                        	LEA	EAX,DWORD [48+EBX]
  1159 00000C08 89 43 54                        	MOV	DWORD [84+EBX],EAX
  1160 00000C0B C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_asm_end_app
  1161 00000C12 E8 [00000000]                   	CALL	_io_sti
  1162 00000C17 6A 00                           	PUSH	0
  1163 00000C19 6A FF                           	PUSH	-1
  1164 00000C1B 53                              	PUSH	EBX
  1165 00000C1C E8 [00000000]                   	CALL	_task_run
  1166 00000C21 83 C4 14                        	ADD	ESP,20
  1167 00000C24 E9 FFFFFEEF                     	JMP	L77
  1168 00000C29                                 L141:
  1169 00000C29 68 000000ED                     	PUSH	237
  1170 00000C2E 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1171 00000C31 53                              	PUSH	EBX
  1172 00000C32 83 B5 FFFFFB30 01               	XOR	DWORD [-1232+EBP],1
  1173 00000C39 E8 [00000000]                   	CALL	_fifo32_put
  1174 00000C3E FF B5 FFFFFB30                  	PUSH	DWORD [-1232+EBP]
  1175 00000C44 53                              	PUSH	EBX
  1176 00000C45 E8 [00000000]                   	CALL	_fifo32_put
  1177 00000C4A 83 C4 10                        	ADD	ESP,16
  1178 00000C4D E9 FFFFFEBA                     	JMP	L76
  1179 00000C52                                 L140:
  1180 00000C52 68 000000ED                     	PUSH	237
  1181 00000C57 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1182 00000C5A 53                              	PUSH	EBX
  1183 00000C5B 83 B5 FFFFFB30 02               	XOR	DWORD [-1232+EBP],2
  1184 00000C62 E8 [00000000]                   	CALL	_fifo32_put
  1185 00000C67 FF B5 FFFFFB30                  	PUSH	DWORD [-1232+EBP]
  1186 00000C6D 53                              	PUSH	EBX
  1187 00000C6E E8 [00000000]                   	CALL	_fifo32_put
  1188 00000C73 83 C4 10                        	ADD	ESP,16
  1189 00000C76 E9 FFFFFE85                     	JMP	L75
  1190 00000C7B                                 L139:
  1191 00000C7B 68 000000ED                     	PUSH	237
  1192 00000C80 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1193 00000C83 53                              	PUSH	EBX
  1194 00000C84 83 B5 FFFFFB30 04               	XOR	DWORD [-1232+EBP],4
  1195 00000C8B E8 [00000000]                   	CALL	_fifo32_put
  1196 00000C90 FF B5 FFFFFB30                  	PUSH	DWORD [-1232+EBP]
  1197 00000C96 53                              	PUSH	EBX
  1198 00000C97 E8 [00000000]                   	CALL	_fifo32_put
  1199 00000C9C 83 C4 10                        	ADD	ESP,16
  1200 00000C9F E9 FFFFFE50                     	JMP	L74
  1201 00000CA4                                 L138:
  1202 00000CA4 83 A5 FFFFFB34 FD               	AND	DWORD [-1228+EBP],-3
  1203 00000CAB E9 FFFFFE38                     	JMP	L73
  1204 00000CB0                                 L137:
  1205 00000CB0 83 A5 FFFFFB34 FE               	AND	DWORD [-1228+EBP],-2
  1206 00000CB7 E9 FFFFFE20                     	JMP	L72
  1207 00000CBC                                 L136:
  1208 00000CBC 83 8D FFFFFB34 02               	OR	DWORD [-1228+EBP],2
  1209 00000CC3 E9 FFFFFE08                     	JMP	L71
  1210 00000CC8                                 L135:
  1211 00000CC8 83 8D FFFFFB34 01               	OR	DWORD [-1228+EBP],1
  1212 00000CCF E9 FFFFFDF0                     	JMP	L70
  1213 00000CD4                                 L134:
  1214 00000CD4 85 FF                           	TEST	EDI,EDI
  1215 00000CD6 0F 84 FFFFFDDC                  	JE	L68
  1216 00000CDC 57                              	PUSH	EDI
  1217 00000CDD E8 000000DA                     	CALL	_keywin_off
  1218 00000CE2 8B 4F 18                        	MOV	ECX,DWORD [24+EDI]
  1219 00000CE5 49                              	DEC	ECX
  1220 00000CE6 58                              	POP	EAX
  1221 00000CE7 75 0A                           	JNE	L69
  1222 00000CE9 8B 85 FFFFFB5C                  	MOV	EAX,DWORD [-1188+EBP]
  1223 00000CEF 8B 48 10                        	MOV	ECX,DWORD [16+EAX]
  1224 00000CF2 49                              	DEC	ECX
  1225 00000CF3                                 L69:
  1226 00000CF3 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
  1227 00000CF9 8B 7C 8A 14                     	MOV	EDI,DWORD [20+EDX+ECX*4]
  1228 00000CFD 57                              	PUSH	EDI
  1229 00000CFE E8 000000E7                     	CALL	_keywin_on
  1230 00000D03 5B                              	POP	EBX
  1231 00000D04 E9 FFFFFDAF                     	JMP	L68
  1232 00000D09                                 L65:
  1233 00000D09 8D 42 20                        	LEA	EAX,DWORD [32+EDX]
  1234 00000D0C 88 45 C4                        	MOV	BYTE [-60+EBP],AL
  1235 00000D0F E9 FFFFFD76                     	JMP	L63
  1236 00000D14                                 L115:
  1237 00000D14 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1238 00000D1B 0F 84 FFFFFD69                  	JE	L63
  1239 00000D21 EB E6                           	JMP	L65
  1240 00000D23                                 L60:
  1241 00000D23 8A 86 [FFFFFF80]                	MOV	AL,BYTE [_keytable1.1-256+ESI]
  1242 00000D29 E9 FFFFFD32                     	JMP	L121
  1243 00000D2E                                 L59:
  1244 00000D2E C6 45 C4 00                     	MOV	BYTE [-60+EBP],0
  1245 00000D32 E9 FFFFFD2C                     	JMP	L62
  1246 00000D37                                 L124:
  1247 00000D37 83 BD FFFFFB50 00               	CMP	DWORD [-1200+EBP],0
  1248 00000D3E 79 2B                           	JNS	L146
  1249 00000D40 81 BD FFFFFB48 7FFFFFFF         	CMP	DWORD [-1208+EBP],2147483647
  1250 00000D4A 75 15                           	JNE	L147
  1251 00000D4C FF B5 FFFFFB38                  	PUSH	DWORD [-1224+EBP]
  1252 00000D52 E8 [00000000]                   	CALL	_task_sleep
  1253 00000D57 E8 [00000000]                   	CALL	_io_sti
  1254 00000D5C E9 FFFFF9CD                     	JMP	L117
  1255 00000D61                                 L147:
  1256 00000D61 E8 [00000000]                   	CALL	_io_sti
  1257 00000D66 E9 FFFFFA92                     	JMP	L119
  1258 00000D6B                                 L146:
  1259 00000D6B E8 [00000000]                   	CALL	_io_sti
  1260 00000D70 FF B5 FFFFFB4C                  	PUSH	DWORD [-1204+EBP]
  1261 00000D76 FF B5 FFFFFB50                  	PUSH	DWORD [-1200+EBP]
  1262 00000D7C FF B5 FFFFFB3C                  	PUSH	DWORD [-1220+EBP]
  1263 00000D82 E8 [00000000]                   	CALL	_sheet_slide
  1264 00000D87 C7 85 FFFFFB50 FFFFFFFF         	MOV	DWORD [-1200+EBP],-1
  1265 00000D91 E9 FFFFFA88                     	JMP	L120
  1266 00000D96                                 L123:
  1267 00000D96 53                              	PUSH	EBX
  1268 00000D97 E8 [00000000]                   	CALL	_fifo32_get
  1269 00000D9C 89 85 FFFFFB2C                  	MOV	DWORD [-1236+EBP],EAX
  1270 00000DA2 E8 [00000000]                   	CALL	_wait_KBC_sendready
  1271 00000DA7 FF B5 FFFFFB2C                  	PUSH	DWORD [-1236+EBP]
  1272 00000DAD 6A 60                           	PUSH	96
  1273 00000DAF E8 [00000000]                   	CALL	_io_out8
  1274 00000DB4 83 C4 0C                        	ADD	ESP,12
  1275 00000DB7 E9 FFFFF88B                     	JMP	L48
  1276 00000DBC                                 	GLOBAL	_keywin_off
  1277 00000DBC                                 _keywin_off:
  1278 00000DBC 55                              	PUSH	EBP
  1279 00000DBD 89 E5                           	MOV	EBP,ESP
  1280 00000DBF 53                              	PUSH	EBX
  1281 00000DC0 6A 00                           	PUSH	0
  1282 00000DC2 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1283 00000DC5 53                              	PUSH	EBX
  1284 00000DC6 E8 [00000000]                   	CALL	_change_wtitle8
  1285 00000DCB F6 43 1C 20                     	TEST	BYTE [28+EBX],32
  1286 00000DCF 59                              	POP	ECX
  1287 00000DD0 58                              	POP	EAX
  1288 00000DD1 75 05                           	JNE	L150
  1289 00000DD3                                 L148:
  1290 00000DD3 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1291 00000DD6 C9                              	LEAVE
  1292 00000DD7 C3                              	RET
  1293 00000DD8                                 L150:
  1294 00000DD8 6A 03                           	PUSH	3
  1295 00000DDA 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
  1296 00000DDD 83 C0 10                        	ADD	EAX,16
  1297 00000DE0 50                              	PUSH	EAX
  1298 00000DE1 E8 [00000000]                   	CALL	_fifo32_put
  1299 00000DE6 58                              	POP	EAX
  1300 00000DE7 5A                              	POP	EDX
  1301 00000DE8 EB E9                           	JMP	L148
  1302 00000DEA                                 	GLOBAL	_keywin_on
  1303 00000DEA                                 _keywin_on:
  1304 00000DEA 55                              	PUSH	EBP
  1305 00000DEB 89 E5                           	MOV	EBP,ESP
  1306 00000DED 53                              	PUSH	EBX
  1307 00000DEE 6A 01                           	PUSH	1
  1308 00000DF0 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1309 00000DF3 53                              	PUSH	EBX
  1310 00000DF4 E8 [00000000]                   	CALL	_change_wtitle8
  1311 00000DF9 F6 43 1C 20                     	TEST	BYTE [28+EBX],32
  1312 00000DFD 59                              	POP	ECX
  1313 00000DFE 58                              	POP	EAX
  1314 00000DFF 75 05                           	JNE	L153
  1315 00000E01                                 L151:
  1316 00000E01 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1317 00000E04 C9                              	LEAVE
  1318 00000E05 C3                              	RET
  1319 00000E06                                 L153:
  1320 00000E06 6A 02                           	PUSH	2
  1321 00000E08 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
  1322 00000E0B 83 C0 10                        	ADD	EAX,16
  1323 00000E0E 50                              	PUSH	EAX
  1324 00000E0F E8 [00000000]                   	CALL	_fifo32_put
  1325 00000E14 58                              	POP	EAX
  1326 00000E15 5A                              	POP	EDX
  1327 00000E16 EB E9                           	JMP	L151
  1328 00000E18                                 	GLOBAL	_open_constask
  1329 00000E18                                 _open_constask:
  1330 00000E18 55                              	PUSH	EBP
  1331 00000E19 89 E5                           	MOV	EBP,ESP
  1332 00000E1B 56                              	PUSH	ESI
  1333 00000E1C 53                              	PUSH	EBX
  1334 00000E1D E8 [00000000]                   	CALL	_task_alloc
  1335 00000E22 68 00000200                     	PUSH	512
  1336 00000E27 68 003C0000                     	PUSH	3932160
  1337 00000E2C 89 C3                           	MOV	EBX,EAX
  1338 00000E2E E8 [00000000]                   	CALL	_memman_alloc_4k
  1339 00000E33 68 00010000                     	PUSH	65536
  1340 00000E38 68 003C0000                     	PUSH	3932160
  1341 00000E3D 89 C6                           	MOV	ESI,EAX
  1342 00000E3F E8 [00000000]                   	CALL	_memman_alloc_4k
  1343 00000E44 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1344 00000E47 C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_console_task
  1345 00000E4E 89 83 000000AC                  	MOV	DWORD [172+EBX],EAX
  1346 00000E54 05 0000FFF4                     	ADD	EAX,65524
  1347 00000E59 89 43 64                        	MOV	DWORD [100+EBX],EAX
  1348 00000E5C C7 43 74 00000008               	MOV	DWORD [116+EBX],8
  1349 00000E63 C7 43 78 00000010               	MOV	DWORD [120+EBX],16
  1350 00000E6A C7 43 7C 00000008               	MOV	DWORD [124+EBX],8
  1351 00000E71 C7 83 00000080 00000008         	MOV	DWORD [128+EBX],8
  1352 00000E7B C7 83 00000084 00000008         	MOV	DWORD [132+EBX],8
  1353 00000E85 C7 83 00000088 00000008         	MOV	DWORD [136+EBX],8
  1354 00000E8F 89 50 04                        	MOV	DWORD [4+EAX],EDX
  1355 00000E92 8B 53 64                        	MOV	EDX,DWORD [100+EBX]
  1356 00000E95 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1357 00000E98 89 42 08                        	MOV	DWORD [8+EDX],EAX
  1358 00000E9B 6A 02                           	PUSH	2
  1359 00000E9D 6A 02                           	PUSH	2
  1360 00000E9F 53                              	PUSH	EBX
  1361 00000EA0 E8 [00000000]                   	CALL	_task_run
  1362 00000EA5 8D 43 10                        	LEA	EAX,DWORD [16+EBX]
  1363 00000EA8 53                              	PUSH	EBX
  1364 00000EA9 56                              	PUSH	ESI
  1365 00000EAA 68 00000080                     	PUSH	128
  1366 00000EAF 50                              	PUSH	EAX
  1367 00000EB0 E8 [00000000]                   	CALL	_fifo32_init
  1368 00000EB5 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  1369 00000EB8 89 D8                           	MOV	EAX,EBX
  1370 00000EBA 5B                              	POP	EBX
  1371 00000EBB 5E                              	POP	ESI
  1372 00000EBC 5D                              	POP	EBP
  1373 00000EBD C3                              	RET
  1374                                          [SECTION .data]
  1375 00000170                                 LC4:
  1376 00000170 63 6F 6E 73 6F 6C 65 00         	DB	"console",0x00
  1377                                          [SECTION .text]
  1378 00000EBE                                 	GLOBAL	_open_console
  1379 00000EBE                                 _open_console:
  1380 00000EBE 55                              	PUSH	EBP
  1381 00000EBF 89 E5                           	MOV	EBP,ESP
  1382 00000EC1 56                              	PUSH	ESI
  1383 00000EC2 53                              	PUSH	EBX
  1384 00000EC3 FF 75 08                        	PUSH	DWORD [8+EBP]
  1385 00000EC6 E8 [00000000]                   	CALL	_sheet_alloc
  1386 00000ECB 68 0000A500                     	PUSH	42240
  1387 00000ED0 68 003C0000                     	PUSH	3932160
  1388 00000ED5 89 C3                           	MOV	EBX,EAX
  1389 00000ED7 E8 [00000000]                   	CALL	_memman_alloc_4k
  1390 00000EDC 6A FF                           	PUSH	-1
  1391 00000EDE 68 000000A5                     	PUSH	165
  1392 00000EE3 89 C6                           	MOV	ESI,EAX
  1393 00000EE5 68 00000100                     	PUSH	256
  1394 00000EEA 50                              	PUSH	EAX
  1395 00000EEB 53                              	PUSH	EBX
  1396 00000EEC E8 [00000000]                   	CALL	_sheet_setbuf
  1397 00000EF1 83 C4 20                        	ADD	ESP,32
  1398 00000EF4 6A 00                           	PUSH	0
  1399 00000EF6 68 [00000170]                   	PUSH	LC4
  1400 00000EFB 68 000000A5                     	PUSH	165
  1401 00000F00 68 00000100                     	PUSH	256
  1402 00000F05 56                              	PUSH	ESI
  1403 00000F06 E8 [00000000]                   	CALL	_make_window8
  1404 00000F0B 6A 00                           	PUSH	0
  1405 00000F0D 68 00000080                     	PUSH	128
  1406 00000F12 68 000000F0                     	PUSH	240
  1407 00000F17 6A 1C                           	PUSH	28
  1408 00000F19 6A 08                           	PUSH	8
  1409 00000F1B 53                              	PUSH	EBX
  1410 00000F1C E8 [00000000]                   	CALL	_make_textbox8
  1411 00000F21 83 C4 2C                        	ADD	ESP,44
  1412 00000F24 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1413 00000F27 53                              	PUSH	EBX
  1414 00000F28 E8 FFFFFEEB                     	CALL	_open_constask
  1415 00000F2D 83 4B 1C 20                     	OR	DWORD [28+EBX],32
  1416 00000F31 89 43 24                        	MOV	DWORD [36+EBX],EAX
  1417 00000F34 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  1418 00000F37 89 D8                           	MOV	EAX,EBX
  1419 00000F39 5B                              	POP	EBX
  1420 00000F3A 5E                              	POP	ESI
  1421 00000F3B 5D                              	POP	EBP
  1422 00000F3C C3                              	RET
  1423 00000F3D                                 	GLOBAL	_close_constask
  1424 00000F3D                                 _close_constask:
  1425 00000F3D 55                              	PUSH	EBP
  1426 00000F3E 89 E5                           	MOV	EBP,ESP
  1427 00000F40 53                              	PUSH	EBX
  1428 00000F41 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1429 00000F44 53                              	PUSH	EBX
  1430 00000F45 E8 [00000000]                   	CALL	_task_sleep
  1431 00000F4A 68 00010000                     	PUSH	65536
  1432 00000F4F FF B3 000000AC                  	PUSH	DWORD [172+EBX]
  1433 00000F55 68 003C0000                     	PUSH	3932160
  1434 00000F5A E8 [00000000]                   	CALL	_memman_free_4k
  1435 00000F5F 68 00000200                     	PUSH	512
  1436 00000F64 FF 73 10                        	PUSH	DWORD [16+EBX]
  1437 00000F67 68 003C0000                     	PUSH	3932160
  1438 00000F6C E8 [00000000]                   	CALL	_memman_free_4k
  1439 00000F71 C7 43 04 00000000               	MOV	DWORD [4+EBX],0
  1440 00000F78 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1441 00000F7B C9                              	LEAVE
  1442 00000F7C C3                              	RET
  1443 00000F7D                                 	GLOBAL	_close_console
  1444 00000F7D                                 _close_console:
  1445 00000F7D 55                              	PUSH	EBP
  1446 00000F7E 89 E5                           	MOV	EBP,ESP
  1447 00000F80 56                              	PUSH	ESI
  1448 00000F81 53                              	PUSH	EBX
  1449 00000F82 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1450 00000F85 8B 73 24                        	MOV	ESI,DWORD [36+EBX]
  1451 00000F88 68 0000A500                     	PUSH	42240
  1452 00000F8D FF 33                           	PUSH	DWORD [EBX]
  1453 00000F8F 68 003C0000                     	PUSH	3932160
  1454 00000F94 E8 [00000000]                   	CALL	_memman_free_4k
  1455 00000F99 53                              	PUSH	EBX
  1456 00000F9A E8 [00000000]                   	CALL	_sheet_free
  1457 00000F9F 89 75 08                        	MOV	DWORD [8+EBP],ESI
  1458 00000FA2 83 C4 10                        	ADD	ESP,16
  1459 00000FA5 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  1460 00000FA8 5B                              	POP	EBX
  1461 00000FA9 5E                              	POP	ESI
  1462 00000FAA 5D                              	POP	EBP
  1463 00000FAB EB 90                           	JMP	_close_constask
