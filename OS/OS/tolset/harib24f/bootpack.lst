     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_io_cli
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_init_gdtidt
    10 00000000                                 	EXTERN	_init_pic
    11 00000000                                 	EXTERN	_fifo32_init
    12 00000000                                 	EXTERN	_init_pit
    13 00000000                                 	EXTERN	_init_keyboard
    14 00000000                                 	EXTERN	_enable_mouse
    15 00000000                                 	EXTERN	_io_out8
    16 00000000                                 	EXTERN	_memtest
    17 00000000                                 	EXTERN	_memman_init
    18 00000000                                 	EXTERN	_memman_free
    19 00000000                                 	EXTERN	_init_palette
    20 00000000                                 	EXTERN	_shtctl_init
    21 00000000                                 	EXTERN	_task_init
    22 00000000                                 	EXTERN	_task_run
    23 00000000                                 	EXTERN	_sheet_alloc
    24 00000000                                 	EXTERN	_memman_alloc_4k
    25 00000000                                 	EXTERN	_sheet_setbuf
    26 00000000                                 	EXTERN	_init_screen8
    27 00000000                                 	EXTERN	_init_mouse_cursor8
    28 00000000                                 	EXTERN	_sheet_slide
    29 00000000                                 	EXTERN	_sheet_updown
    30 00000000                                 	EXTERN	_fifo32_put
    31 00000000                                 	EXTERN	_task_alloc
    32 00000000                                 	EXTERN	_sprintf
    33 00000000                                 	EXTERN	_cons_putstr0
    34 00000000                                 	EXTERN	_fifo32_status
    35 00000000                                 	EXTERN	_fifo32_get
    36 00000000                                 	EXTERN	_memman_free_4k
    37 00000000                                 	EXTERN	_sheet_free
    38 00000000                                 	EXTERN	_taskctl
    39 00000000                                 	EXTERN	_mouse_decode
    40 00000000                                 	EXTERN	_asm_end_app
    41 00000000                                 	EXTERN	_wait_KBC_sendready
    42 00000000                                 	EXTERN	_task_sleep
    43 00000000                                 	EXTERN	_change_wtitle8
    44 00000000                                 	EXTERN	_console_task
    45 00000000                                 	EXTERN	_make_window8
    46 00000000                                 	EXTERN	_make_textbox8
    47 00000000                                 [FILE "bootpack.c"]
    48                                          [SECTION .text]
    49 00000000                                 	GLOBAL	_avoid_sleep
    50 00000000                                 _avoid_sleep:
    51 00000000 55                              	PUSH	EBP
    52 00000001 89 E5                           	MOV	EBP,ESP
    53 00000003 E8 [00000000]                   	CALL	_task_now
    54 00000008 C7 40 04 00000002               	MOV	DWORD [4+EAX],2
    55 0000000F 5D                              	POP	EBP
    56 00000010 C3                              	RET
    57 00000011                                 	GLOBAL	_test_and_set
    58 00000011                                 _test_and_set:
    59 00000011 55                              	PUSH	EBP
    60 00000012 89 E5                           	MOV	EBP,ESP
    61 00000014 56                              	PUSH	ESI
    62 00000015 53                              	PUSH	EBX
    63 00000016 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    64 00000019 E8 [00000000]                   	CALL	_io_cli
    65 0000001E 8B 33                           	MOV	ESI,DWORD [EBX]
    66 00000020 C7 03 000000FF                  	MOV	DWORD [EBX],255
    67 00000026 E8 [00000000]                   	CALL	_io_sti
    68 0000002B 5B                              	POP	EBX
    69 0000002C 89 F0                           	MOV	EAX,ESI
    70 0000002E 5E                              	POP	ESI
    71 0000002F 5D                              	POP	EBP
    72 00000030 C3                              	RET
    73 00000031                                 	GLOBAL	_Swap
    74 00000031                                 _Swap:
    75 00000031 55                              	PUSH	EBP
    76 00000032 89 E5                           	MOV	EBP,ESP
    77 00000034 56                              	PUSH	ESI
    78 00000035 53                              	PUSH	EBX
    79 00000036 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    80 00000039 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
    81 0000003C E8 [00000000]                   	CALL	_io_cli
    82 00000041 8A 13                           	MOV	DL,BYTE [EBX]
    83 00000043 8A 06                           	MOV	AL,BYTE [ESI]
    84 00000045 88 03                           	MOV	BYTE [EBX],AL
    85 00000047 88 16                           	MOV	BYTE [ESI],DL
    86 00000049 5B                              	POP	EBX
    87 0000004A 5E                              	POP	ESI
    88 0000004B 5D                              	POP	EBP
    89 0000004C E9 [00000000]                   	JMP	_io_sti
    90 00000051                                 	GLOBAL	_sem_signal
    91 00000051                                 _sem_signal:
    92 00000051 55                              	PUSH	EBP
    93 00000052 89 E5                           	MOV	EBP,ESP
    94 00000054 53                              	PUSH	EBX
    95 00000055 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    96 00000058 E8 [00000000]                   	CALL	_io_cli
    97 0000005D FF 03                           	INC	DWORD [EBX]
    98 0000005F 5B                              	POP	EBX
    99 00000060 5D                              	POP	EBP
   100 00000061 E9 [00000000]                   	JMP	_io_sti
   101 00000066                                 	GLOBAL	_sem_wait
   102 00000066                                 _sem_wait:
   103 00000066 55                              	PUSH	EBP
   104 00000067 89 E5                           	MOV	EBP,ESP
   105 00000069 53                              	PUSH	EBX
   106 0000006A 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   107 0000006D 8B 03                           	MOV	EAX,DWORD [EBX]
   108 0000006F                                 L6:
   109 0000006F 85 C0                           	TEST	EAX,EAX
   110 00000071 7E FC                           	JLE	L6
   111 00000073 E8 [00000000]                   	CALL	_io_cli
   112 00000078 FF 0B                           	DEC	DWORD [EBX]
   113 0000007A 5B                              	POP	EBX
   114 0000007B 5D                              	POP	EBP
   115 0000007C E9 [00000000]                   	JMP	_io_sti
   116 00000081                                 	GLOBAL	_test_race_condition1
   117 00000081                                 _test_race_condition1:
   118 00000081 55                              	PUSH	EBP
   119 00000082 89 E5                           	MOV	EBP,ESP
   120 00000084 57                              	PUSH	EDI
   121 00000085 56                              	PUSH	ESI
   122 00000086 53                              	PUSH	EBX
   123 00000087 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   124 0000008A 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   125 0000008D 8B 75 14                        	MOV	ESI,DWORD [20+EBP]
   126 00000090                                 L13:
   127 00000090 56                              	PUSH	ESI
   128 00000091 E8 FFFFFF7B                     	CALL	_test_and_set
   129 00000096 5A                              	POP	EDX
   130 00000097 85 C0                           	TEST	EAX,EAX
   131 00000099 75 F5                           	JNE	L13
   132 0000009B 8B 13                           	MOV	EDX,DWORD [EBX]
   133 0000009D 8D 42 01                        	LEA	EAX,DWORD [1+EDX]
   134 000000A0 89 03                           	MOV	DWORD [EBX],EAX
   135 000000A2 B8 00000005                     	MOV	EAX,5
   136 000000A7                                 L16:
   137 000000A7 48                              	DEC	EAX
   138 000000A8 83 F8 FF                        	CMP	EAX,-1
   139 000000AB 75 FA                           	JNE	L16
   140 000000AD 8B 03                           	MOV	EAX,DWORD [EBX]
   141 000000AF 29 D0                           	SUB	EAX,EDX
   142 000000B1 48                              	DEC	EAX
   143 000000B2 7E 06                           	JLE	L19
   144 000000B4 C7 07 00000001                  	MOV	DWORD [EDI],1
   145 000000BA                                 L19:
   146 000000BA C7 06 00000000                  	MOV	DWORD [ESI],0
   147 000000C0 EB CE                           	JMP	L13
   148                                          [SECTION .data]
   149 00000000                                 _keytable0.0:
   150 00000000 00                              	DB	0
   151 00000001 00                              	DB	0
   152 00000002 31                              	DB	49
   153 00000003 32                              	DB	50
   154 00000004 33                              	DB	51
   155 00000005 34                              	DB	52
   156 00000006 35                              	DB	53
   157 00000007 36                              	DB	54
   158 00000008 37                              	DB	55
   159 00000009 38                              	DB	56
   160 0000000A 39                              	DB	57
   161 0000000B 30                              	DB	48
   162 0000000C 2D                              	DB	45
   163 0000000D 5E                              	DB	94
   164 0000000E 08                              	DB	8
   165 0000000F 00                              	DB	0
   166 00000010 51                              	DB	81
   167 00000011 57                              	DB	87
   168 00000012 45                              	DB	69
   169 00000013 52                              	DB	82
   170 00000014 54                              	DB	84
   171 00000015 59                              	DB	89
   172 00000016 55                              	DB	85
   173 00000017 49                              	DB	73
   174 00000018 4F                              	DB	79
   175 00000019 50                              	DB	80
   176 0000001A 40                              	DB	64
   177 0000001B 5B                              	DB	91
   178 0000001C 0A                              	DB	10
   179 0000001D 00                              	DB	0
   180 0000001E 41                              	DB	65
   181 0000001F 53                              	DB	83
   182 00000020 44                              	DB	68
   183 00000021 46                              	DB	70
   184 00000022 47                              	DB	71
   185 00000023 48                              	DB	72
   186 00000024 4A                              	DB	74
   187 00000025 4B                              	DB	75
   188 00000026 4C                              	DB	76
   189 00000027 3B                              	DB	59
   190 00000028 3A                              	DB	58
   191 00000029 00                              	DB	0
   192 0000002A 00                              	DB	0
   193 0000002B 5D                              	DB	93
   194 0000002C 5A                              	DB	90
   195 0000002D 58                              	DB	88
   196 0000002E 43                              	DB	67
   197 0000002F 56                              	DB	86
   198 00000030 42                              	DB	66
   199 00000031 4E                              	DB	78
   200 00000032 4D                              	DB	77
   201 00000033 2C                              	DB	44
   202 00000034 2E                              	DB	46
   203 00000035 2F                              	DB	47
   204 00000036 00                              	DB	0
   205 00000037 2A                              	DB	42
   206 00000038 00                              	DB	0
   207 00000039 20                              	DB	32
   208 0000003A 00                              	DB	0
   209 0000003B 00                              	DB	0
   210 0000003C 00                              	DB	0
   211 0000003D 00                              	DB	0
   212 0000003E 00                              	DB	0
   213 0000003F 00                              	DB	0
   214 00000040 00                              	DB	0
   215 00000041 00                              	DB	0
   216 00000042 00                              	DB	0
   217 00000043 00                              	DB	0
   218 00000044 00                              	DB	0
   219 00000045 00                              	DB	0
   220 00000046 00                              	DB	0
   221 00000047 37                              	DB	55
   222 00000048 38                              	DB	56
   223 00000049 39                              	DB	57
   224 0000004A 2D                              	DB	45
   225 0000004B 34                              	DB	52
   226 0000004C 35                              	DB	53
   227 0000004D 36                              	DB	54
   228 0000004E 2B                              	DB	43
   229 0000004F 31                              	DB	49
   230 00000050 32                              	DB	50
   231 00000051 33                              	DB	51
   232 00000052 30                              	DB	48
   233 00000053 2E                              	DB	46
   234 00000054 00                              	DB	0
   235 00000055 00                              	DB	0
   236 00000056 00                              	DB	0
   237 00000057 00                              	DB	0
   238 00000058 00                              	DB	0
   239 00000059 00                              	DB	0
   240 0000005A 00                              	DB	0
   241 0000005B 00                              	DB	0
   242 0000005C 00                              	DB	0
   243 0000005D 00                              	DB	0
   244 0000005E 00                              	DB	0
   245 0000005F 00                              	DB	0
   246 00000060 00                              	DB	0
   247 00000061 00                              	DB	0
   248 00000062 00                              	DB	0
   249 00000063 00                              	DB	0
   250 00000064 00                              	DB	0
   251 00000065 00                              	DB	0
   252 00000066 00                              	DB	0
   253 00000067 00                              	DB	0
   254 00000068 00                              	DB	0
   255 00000069 00                              	DB	0
   256 0000006A 00                              	DB	0
   257 0000006B 00                              	DB	0
   258 0000006C 00                              	DB	0
   259 0000006D 00                              	DB	0
   260 0000006E 00                              	DB	0
   261 0000006F 00                              	DB	0
   262 00000070 00                              	DB	0
   263 00000071 00                              	DB	0
   264 00000072 00                              	DB	0
   265 00000073 5C                              	DB	92
   266 00000074 00                              	DB	0
   267 00000075 00                              	DB	0
   268 00000076 00                              	DB	0
   269 00000077 00                              	DB	0
   270 00000078 00                              	DB	0
   271 00000079 00                              	DB	0
   272 0000007A 00                              	DB	0
   273 0000007B 00                              	DB	0
   274 0000007C 00                              	DB	0
   275 0000007D 5C                              	DB	92
   276 0000007E 00                              	DB	0
   277 0000007F 00                              	DB	0
   278 00000080                                 _keytable1.1:
   279 00000080 00                              	DB	0
   280 00000081 00                              	DB	0
   281 00000082 21                              	DB	33
   282 00000083 22                              	DB	34
   283 00000084 23                              	DB	35
   284 00000085 24                              	DB	36
   285 00000086 25                              	DB	37
   286 00000087 26                              	DB	38
   287 00000088 27                              	DB	39
   288 00000089 28                              	DB	40
   289 0000008A 29                              	DB	41
   290 0000008B 7E                              	DB	126
   291 0000008C 3D                              	DB	61
   292 0000008D 7E                              	DB	126
   293 0000008E 08                              	DB	8
   294 0000008F 00                              	DB	0
   295 00000090 51                              	DB	81
   296 00000091 57                              	DB	87
   297 00000092 45                              	DB	69
   298 00000093 52                              	DB	82
   299 00000094 54                              	DB	84
   300 00000095 59                              	DB	89
   301 00000096 55                              	DB	85
   302 00000097 49                              	DB	73
   303 00000098 4F                              	DB	79
   304 00000099 50                              	DB	80
   305 0000009A 60                              	DB	96
   306 0000009B 7B                              	DB	123
   307 0000009C 0A                              	DB	10
   308 0000009D 00                              	DB	0
   309 0000009E 41                              	DB	65
   310 0000009F 53                              	DB	83
   311 000000A0 44                              	DB	68
   312 000000A1 46                              	DB	70
   313 000000A2 47                              	DB	71
   314 000000A3 48                              	DB	72
   315 000000A4 4A                              	DB	74
   316 000000A5 4B                              	DB	75
   317 000000A6 4C                              	DB	76
   318 000000A7 2B                              	DB	43
   319 000000A8 2A                              	DB	42
   320 000000A9 00                              	DB	0
   321 000000AA 00                              	DB	0
   322 000000AB 7D                              	DB	125
   323 000000AC 5A                              	DB	90
   324 000000AD 58                              	DB	88
   325 000000AE 43                              	DB	67
   326 000000AF 56                              	DB	86
   327 000000B0 42                              	DB	66
   328 000000B1 4E                              	DB	78
   329 000000B2 4D                              	DB	77
   330 000000B3 3C                              	DB	60
   331 000000B4 3E                              	DB	62
   332 000000B5 3F                              	DB	63
   333 000000B6 00                              	DB	0
   334 000000B7 2A                              	DB	42
   335 000000B8 00                              	DB	0
   336 000000B9 20                              	DB	32
   337 000000BA 00                              	DB	0
   338 000000BB 00                              	DB	0
   339 000000BC 00                              	DB	0
   340 000000BD 00                              	DB	0
   341 000000BE 00                              	DB	0
   342 000000BF 00                              	DB	0
   343 000000C0 00                              	DB	0
   344 000000C1 00                              	DB	0
   345 000000C2 00                              	DB	0
   346 000000C3 00                              	DB	0
   347 000000C4 00                              	DB	0
   348 000000C5 00                              	DB	0
   349 000000C6 00                              	DB	0
   350 000000C7 37                              	DB	55
   351 000000C8 38                              	DB	56
   352 000000C9 39                              	DB	57
   353 000000CA 2D                              	DB	45
   354 000000CB 34                              	DB	52
   355 000000CC 35                              	DB	53
   356 000000CD 36                              	DB	54
   357 000000CE 2B                              	DB	43
   358 000000CF 31                              	DB	49
   359 000000D0 32                              	DB	50
   360 000000D1 33                              	DB	51
   361 000000D2 30                              	DB	48
   362 000000D3 2E                              	DB	46
   363 000000D4 00                              	DB	0
   364 000000D5 00                              	DB	0
   365 000000D6 00                              	DB	0
   366 000000D7 00                              	DB	0
   367 000000D8 00                              	DB	0
   368 000000D9 00                              	DB	0
   369 000000DA 00                              	DB	0
   370 000000DB 00                              	DB	0
   371 000000DC 00                              	DB	0
   372 000000DD 00                              	DB	0
   373 000000DE 00                              	DB	0
   374 000000DF 00                              	DB	0
   375 000000E0 00                              	DB	0
   376 000000E1 00                              	DB	0
   377 000000E2 00                              	DB	0
   378 000000E3 00                              	DB	0
   379 000000E4 00                              	DB	0
   380 000000E5 00                              	DB	0
   381 000000E6 00                              	DB	0
   382 000000E7 00                              	DB	0
   383 000000E8 00                              	DB	0
   384 000000E9 00                              	DB	0
   385 000000EA 00                              	DB	0
   386 000000EB 00                              	DB	0
   387 000000EC 00                              	DB	0
   388 000000ED 00                              	DB	0
   389 000000EE 00                              	DB	0
   390 000000EF 00                              	DB	0
   391 000000F0 00                              	DB	0
   392 000000F1 00                              	DB	0
   393 000000F2 00                              	DB	0
   394 000000F3 5F                              	DB	95
   395 000000F4 00                              	DB	0
   396 000000F5 00                              	DB	0
   397 000000F6 00                              	DB	0
   398 000000F7 00                              	DB	0
   399 000000F8 00                              	DB	0
   400 000000F9 00                              	DB	0
   401 000000FA 00                              	DB	0
   402 000000FB 00                              	DB	0
   403 000000FC 00                              	DB	0
   404 000000FD 7C                              	DB	124
   405 000000FE 00                              	DB	0
   406 000000FF 00                              	DB	0
   407 00000100                                 LC0:
   408 00000100 74 68 69 73 20 69 73 20 61 20   	DB	"this is a console for debug output",0x0A,0x00
       0000010A 63 6F 6E 73 6F 6C 65 20 66 6F 
       00000114 72 20 64 65 62 75 67 20 6F 75 
       0000011E 74 70 75 74 0A 00 
   409 00000124                                 LC1:
   410 00000124 54 43 4E 54 20 6E 6F 77 20 69   	DB	"TCNT now is %d, race condition occured: %d",0x0A,0x00
       0000012E 73 20 25 64 2C 20 72 61 63 65 
       00000138 20 63 6F 6E 64 69 74 69 6F 6E 
       00000142 20 6F 63 63 75 72 65 64 3A 20 
       0000014C 25 64 0A 00 
   411 00000150                                 LC3:
   412 00000150 0A 42 72 65 61 6B 28 6D 6F 75   	DB	0x0A,"Break(mouse) :",0x0A,0x00
       0000015A 73 65 29 20 3A 0A 00 
   413 00000161                                 LC2:
   414 00000161 0A 42 72 65 61 6B 28 6B 65 79   	DB	0x0A,"Break(key) :",0x0A,0x00
       0000016B 29 20 3A 0A 00 
   415                                          [SECTION .text]
   416 000000C2                                 	GLOBAL	_HariMain
   417 000000C2                                 _HariMain:
   418 000000C2 55                              	PUSH	EBP
   419 000000C3 89 E5                           	MOV	EBP,ESP
   420 000000C5 57                              	PUSH	EDI
   421 000000C6 56                              	PUSH	ESI
   422 000000C7 53                              	PUSH	EBX
   423 000000C8 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   424 000000CB 81 EC 000004EC                  	SUB	ESP,1260
   425 000000D1 C7 85 FFFFFB50 FFFFFFFF         	MOV	DWORD [-1200+EBP],-1
   426 000000DB C7 85 FFFFFB4C 00000000         	MOV	DWORD [-1204+EBP],0
   427 000000E5 C7 85 FFFFFB48 7FFFFFFF         	MOV	DWORD [-1208+EBP],2147483647
   428 000000EF C7 85 FFFFFB44 00000000         	MOV	DWORD [-1212+EBP],0
   429 000000F9 C7 85 FFFFFB34 00000000         	MOV	DWORD [-1228+EBP],0
   430 00000103 A0 00000FF1                     	MOV	AL,BYTE [4081]
   431 00000108 C0 F8 04                        	SAR	AL,4
   432 0000010B 89 C2                           	MOV	EDX,EAX
   433 0000010D 83 E2 07                        	AND	EDX,7
   434 00000110 89 95 FFFFFB30                  	MOV	DWORD [-1232+EBP],EDX
   435 00000116 C7 85 FFFFFB2C FFFFFFFF         	MOV	DWORD [-1236+EBP],-1
   436 00000120 C7 85 FFFFFB28 FFFFFFFF         	MOV	DWORD [-1240+EBP],-1
   437 0000012A C7 85 FFFFFB24 FFFFFFFF         	MOV	DWORD [-1244+EBP],-1
   438 00000134 C7 85 FFFFFB20 00000000         	MOV	DWORD [-1248+EBP],0
   439 0000013E C7 85 FFFFFB1C 00000000         	MOV	DWORD [-1252+EBP],0
   440 00000148 E8 [00000000]                   	CALL	_init_gdtidt
   441 0000014D E8 [00000000]                   	CALL	_init_pic
   442 00000152 E8 [00000000]                   	CALL	_io_sti
   443 00000157 8D 85 FFFFFD84                  	LEA	EAX,DWORD [-636+EBP]
   444 0000015D 6A 00                           	PUSH	0
   445 0000015F 50                              	PUSH	EAX
   446 00000160 68 00000080                     	PUSH	128
   447 00000165 53                              	PUSH	EBX
   448 00000166 E8 [00000000]                   	CALL	_fifo32_init
   449 0000016B 89 1D 00000FEC                  	MOV	DWORD [4076],EBX
   450 00000171 E8 [00000000]                   	CALL	_init_pit
   451 00000176 68 00000100                     	PUSH	256
   452 0000017B 53                              	PUSH	EBX
   453 0000017C E8 [00000000]                   	CALL	_init_keyboard
   454 00000181 8D 85 FFFFFCF4                  	LEA	EAX,DWORD [-780+EBP]
   455 00000187 50                              	PUSH	EAX
   456 00000188 68 00000200                     	PUSH	512
   457 0000018D 53                              	PUSH	EBX
   458 0000018E E8 [00000000]                   	CALL	_enable_mouse
   459 00000193 83 C4 24                        	ADD	ESP,36
   460 00000196 68 000000F8                     	PUSH	248
   461 0000019B 6A 21                           	PUSH	33
   462 0000019D E8 [00000000]                   	CALL	_io_out8
   463 000001A2 68 000000EF                     	PUSH	239
   464 000001A7 68 000000A1                     	PUSH	161
   465 000001AC E8 [00000000]                   	CALL	_io_out8
   466 000001B1 8D 85 FFFFFD04                  	LEA	EAX,DWORD [-764+EBP]
   467 000001B7 6A 00                           	PUSH	0
   468 000001B9 50                              	PUSH	EAX
   469 000001BA 8D 45 84                        	LEA	EAX,DWORD [-124+EBP]
   470 000001BD 6A 20                           	PUSH	32
   471 000001BF 50                              	PUSH	EAX
   472 000001C0 E8 [00000000]                   	CALL	_fifo32_init
   473 000001C5 83 C4 20                        	ADD	ESP,32
   474 000001C8 68 BFFFFFFF                     	PUSH	-1073741825
   475 000001CD 68 00400000                     	PUSH	4194304
   476 000001D2 E8 [00000000]                   	CALL	_memtest
   477 000001D7 68 003C0000                     	PUSH	3932160
   478 000001DC 89 85 FFFFFB40                  	MOV	DWORD [-1216+EBP],EAX
   479 000001E2 E8 [00000000]                   	CALL	_memman_init
   480 000001E7 68 0009E000                     	PUSH	647168
   481 000001EC 68 00001000                     	PUSH	4096
   482 000001F1 68 003C0000                     	PUSH	3932160
   483 000001F6 E8 [00000000]                   	CALL	_memman_free
   484 000001FB 8B 85 FFFFFB40                  	MOV	EAX,DWORD [-1216+EBP]
   485 00000201 2D 00400000                     	SUB	EAX,4194304
   486 00000206 50                              	PUSH	EAX
   487 00000207 68 00400000                     	PUSH	4194304
   488 0000020C 68 003C0000                     	PUSH	3932160
   489 00000211 E8 [00000000]                   	CALL	_memman_free
   490 00000216 83 C4 24                        	ADD	ESP,36
   491 00000219 E8 [00000000]                   	CALL	_init_palette
   492 0000021E 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   493 00000225 50                              	PUSH	EAX
   494 00000226 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   495 0000022D 50                              	PUSH	EAX
   496 0000022E FF 35 00000FF8                  	PUSH	DWORD [4088]
   497 00000234 68 003C0000                     	PUSH	3932160
   498 00000239 E8 [00000000]                   	CALL	_shtctl_init
   499 0000023E 68 003C0000                     	PUSH	3932160
   500 00000243 89 85 FFFFFB5C                  	MOV	DWORD [-1188+EBP],EAX
   501 00000249 E8 [00000000]                   	CALL	_task_init
   502 0000024E 6A 02                           	PUSH	2
   503 00000250 6A 01                           	PUSH	1
   504 00000252 89 85 FFFFFB38                  	MOV	DWORD [-1224+EBP],EAX
   505 00000258 50                              	PUSH	EAX
   506 00000259 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
   507 0000025C E8 [00000000]                   	CALL	_task_run
   508 00000261 83 C4 20                        	ADD	ESP,32
   509 00000264 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   510 0000026A 89 15 00000FE4                  	MOV	DWORD [4068],EDX
   511 00000270 52                              	PUSH	EDX
   512 00000271 E8 [00000000]                   	CALL	_sheet_alloc
   513 00000276 89 C6                           	MOV	ESI,EAX
   514 00000278 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   515 0000027F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   516 00000286 0F AF C2                        	IMUL	EAX,EDX
   517 00000289 50                              	PUSH	EAX
   518 0000028A 68 003C0000                     	PUSH	3932160
   519 0000028F E8 [00000000]                   	CALL	_memman_alloc_4k
   520 00000294 6A FF                           	PUSH	-1
   521 00000296 89 C3                           	MOV	EBX,EAX
   522 00000298 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   523 0000029F 50                              	PUSH	EAX
   524 000002A0 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   525 000002A7 50                              	PUSH	EAX
   526 000002A8 53                              	PUSH	EBX
   527 000002A9 56                              	PUSH	ESI
   528 000002AA E8 [00000000]                   	CALL	_sheet_setbuf
   529 000002AF 83 C4 20                        	ADD	ESP,32
   530 000002B2 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   531 000002B9 50                              	PUSH	EAX
   532 000002BA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   533 000002C1 50                              	PUSH	EAX
   534 000002C2 53                              	PUSH	EBX
   535 000002C3 8D 9D FFFFFBF4                  	LEA	EBX,DWORD [-1036+EBP]
   536 000002C9 E8 [00000000]                   	CALL	_init_screen8
   537 000002CE FF B5 FFFFFB40                  	PUSH	DWORD [-1216+EBP]
   538 000002D4 FF B5 FFFFFB5C                  	PUSH	DWORD [-1188+EBP]
   539 000002DA E8 00000B8F                     	CALL	_open_console
   540 000002DF FF B5 FFFFFB5C                  	PUSH	DWORD [-1188+EBP]
   541 000002E5 89 C7                           	MOV	EDI,EAX
   542 000002E7 E8 [00000000]                   	CALL	_sheet_alloc
   543 000002EC 6A 63                           	PUSH	99
   544 000002EE 6A 10                           	PUSH	16
   545 000002F0 89 85 FFFFFB3C                  	MOV	DWORD [-1220+EBP],EAX
   546 000002F6 6A 10                           	PUSH	16
   547 000002F8 53                              	PUSH	EBX
   548 000002F9 50                              	PUSH	EAX
   549 000002FA E8 [00000000]                   	CALL	_sheet_setbuf
   550 000002FF 83 C4 2C                        	ADD	ESP,44
   551 00000302 6A 63                           	PUSH	99
   552 00000304 53                              	PUSH	EBX
   553 00000305 BB 00000002                     	MOV	EBX,2
   554 0000030A E8 [00000000]                   	CALL	_init_mouse_cursor8
   555 0000030F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   556 00000316 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   557 00000319 89 C8                           	MOV	EAX,ECX
   558 0000031B 99                              	CDQ
   559 0000031C F7 FB                           	IDIV	EBX
   560 0000031E 89 85 FFFFFB58                  	MOV	DWORD [-1192+EBP],EAX
   561 00000324 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   562 0000032B 6A 00                           	PUSH	0
   563 0000032D 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   564 00000330 6A 00                           	PUSH	0
   565 00000332 89 C8                           	MOV	EAX,ECX
   566 00000334 56                              	PUSH	ESI
   567 00000335 99                              	CDQ
   568 00000336 F7 FB                           	IDIV	EBX
   569 00000338 89 85 FFFFFB54                  	MOV	DWORD [-1196+EBP],EAX
   570 0000033E E8 [00000000]                   	CALL	_sheet_slide
   571 00000343 6A 04                           	PUSH	4
   572 00000345 6A 20                           	PUSH	32
   573 00000347 57                              	PUSH	EDI
   574 00000348 E8 [00000000]                   	CALL	_sheet_slide
   575 0000034D 83 C4 20                        	ADD	ESP,32
   576 00000350 FF B5 FFFFFB54                  	PUSH	DWORD [-1196+EBP]
   577 00000356 FF B5 FFFFFB58                  	PUSH	DWORD [-1192+EBP]
   578 0000035C FF B5 FFFFFB3C                  	PUSH	DWORD [-1220+EBP]
   579 00000362 E8 [00000000]                   	CALL	_sheet_slide
   580 00000367 6A 00                           	PUSH	0
   581 00000369 56                              	PUSH	ESI
   582 0000036A E8 [00000000]                   	CALL	_sheet_updown
   583 0000036F 6A 01                           	PUSH	1
   584 00000371 57                              	PUSH	EDI
   585 00000372 E8 [00000000]                   	CALL	_sheet_updown
   586 00000377 6A 02                           	PUSH	2
   587 00000379 FF B5 FFFFFB3C                  	PUSH	DWORD [-1220+EBP]
   588 0000037F E8 [00000000]                   	CALL	_sheet_updown
   589 00000384 83 C4 24                        	ADD	ESP,36
   590 00000387 57                              	PUSH	EDI
   591 00000388 E8 00000A0D                     	CALL	_keywin_on
   592 0000038D 8D 55 84                        	LEA	EDX,DWORD [-124+EBP]
   593 00000390 68 000000ED                     	PUSH	237
   594 00000395 52                              	PUSH	EDX
   595 00000396 E8 [00000000]                   	CALL	_fifo32_put
   596 0000039B 8D 45 84                        	LEA	EAX,DWORD [-124+EBP]
   597 0000039E FF B5 FFFFFB30                  	PUSH	DWORD [-1232+EBP]
   598 000003A4 50                              	PUSH	EAX
   599 000003A5 E8 [00000000]                   	CALL	_fifo32_put
   600 000003AA C6 85 FFFFFB13 01               	MOV	BYTE [-1261+EBP],1
   601 000003B1 C7 85 FFFFFB70 00000000         	MOV	DWORD [-1168+EBP],0
   602 000003BB C7 85 FFFFFB6C 00000000         	MOV	DWORD [-1172+EBP],0
   603 000003C5 C7 85 FFFFFB60 00000001         	MOV	DWORD [-1184+EBP],1
   604 000003CF C7 85 FFFFFB68 00000000         	MOV	DWORD [-1176+EBP],0
   605 000003D9 E8 [00000000]                   	CALL	_task_alloc
   606 000003DE 89 C3                           	MOV	EBX,EAX
   607 000003E0 E8 [00000000]                   	CALL	_task_alloc
   608 000003E5 89 C6                           	MOV	ESI,EAX
   609 000003E7 68 [00000100]                   	PUSH	LC0
   610 000003EC 8D 85 FFFFFB74                  	LEA	EAX,DWORD [-1164+EBP]
   611 000003F2 50                              	PUSH	EAX
   612 000003F3 E8 [00000000]                   	CALL	_sprintf
   613 000003F8 FF B5 FFFFFB40                  	PUSH	DWORD [-1216+EBP]
   614 000003FE FF B5 FFFFFB5C                  	PUSH	DWORD [-1188+EBP]
   615 00000404 E8 00000A65                     	CALL	_open_console
   616 00000409 83 C4 24                        	ADD	ESP,36
   617 0000040C 6A 04                           	PUSH	4
   618 0000040E 89 85 FFFFFB14                  	MOV	DWORD [-1260+EBP],EAX
   619 00000414 6A 40                           	PUSH	64
   620 00000416 50                              	PUSH	EAX
   621 00000417 E8 [00000000]                   	CALL	_sheet_slide
   622 0000041C 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   623 00000422 FF 72 10                        	PUSH	DWORD [16+EDX]
   624 00000425 FF B5 FFFFFB14                  	PUSH	DWORD [-1260+EBP]
   625 0000042B E8 [00000000]                   	CALL	_sheet_updown
   626 00000430 68 00010000                     	PUSH	65536
   627 00000435 68 003C0000                     	PUSH	3932160
   628 0000043A C7 85 FFFFFB64 00000000         	MOV	DWORD [-1180+EBP],0
   629 00000444 E8 [00000000]                   	CALL	_memman_alloc_4k
   630 00000449 8D 95 FFFFFB70                  	LEA	EDX,DWORD [-1168+EBP]
   631 0000044F C7 43 4C [00000081]             	MOV	DWORD [76+EBX],_test_race_condition1
   632 00000456 89 83 000000AC                  	MOV	DWORD [172+EBX],EAX
   633 0000045C 05 0000FFEC                     	ADD	EAX,65516
   634 00000461 89 43 64                        	MOV	DWORD [100+EBX],EAX
   635 00000464 C7 43 74 00000008               	MOV	DWORD [116+EBX],8
   636 0000046B C7 43 78 00000010               	MOV	DWORD [120+EBX],16
   637 00000472 C7 43 7C 00000008               	MOV	DWORD [124+EBX],8
   638 00000479 C7 83 00000080 00000008         	MOV	DWORD [128+EBX],8
   639 00000483 C7 83 00000084 00000008         	MOV	DWORD [132+EBX],8
   640 0000048D C7 83 00000088 00000008         	MOV	DWORD [136+EBX],8
   641 00000497 89 50 04                        	MOV	DWORD [4+EAX],EDX
   642 0000049A 8D 85 FFFFFB6C                  	LEA	EAX,DWORD [-1172+EBP]
   643 000004A0 8B 53 64                        	MOV	EDX,DWORD [100+EBX]
   644 000004A3 89 42 08                        	MOV	DWORD [8+EDX],EAX
   645 000004A6 8D 95 FFFFFB68                  	LEA	EDX,DWORD [-1176+EBP]
   646 000004AC 8B 43 64                        	MOV	EAX,DWORD [100+EBX]
   647 000004AF 89 50 0C                        	MOV	DWORD [12+EAX],EDX
   648 000004B2 8D 95 FFFFFB64                  	LEA	EDX,DWORD [-1180+EBP]
   649 000004B8 8B 43 64                        	MOV	EAX,DWORD [100+EBX]
   650 000004BB 89 50 10                        	MOV	DWORD [16+EAX],EDX
   651 000004BE 68 00010000                     	PUSH	65536
   652 000004C3 68 003C0000                     	PUSH	3932160
   653 000004C8 E8 [00000000]                   	CALL	_memman_alloc_4k
   654 000004CD 83 C4 24                        	ADD	ESP,36
   655 000004D0 8D 95 FFFFFB70                  	LEA	EDX,DWORD [-1168+EBP]
   656 000004D6 89 86 000000AC                  	MOV	DWORD [172+ESI],EAX
   657 000004DC 05 0000FFEC                     	ADD	EAX,65516
   658 000004E1 89 46 64                        	MOV	DWORD [100+ESI],EAX
   659 000004E4 C7 46 4C [00000081]             	MOV	DWORD [76+ESI],_test_race_condition1
   660 000004EB C7 46 74 00000008               	MOV	DWORD [116+ESI],8
   661 000004F2 C7 46 78 00000010               	MOV	DWORD [120+ESI],16
   662 000004F9 C7 46 7C 00000008               	MOV	DWORD [124+ESI],8
   663 00000500 C7 86 00000080 00000008         	MOV	DWORD [128+ESI],8
   664 0000050A C7 86 00000084 00000008         	MOV	DWORD [132+ESI],8
   665 00000514 C7 86 00000088 00000008         	MOV	DWORD [136+ESI],8
   666 0000051E 89 50 04                        	MOV	DWORD [4+EAX],EDX
   667 00000521 8D 85 FFFFFB60                  	LEA	EAX,DWORD [-1184+EBP]
   668 00000527 8B 56 64                        	MOV	EDX,DWORD [100+ESI]
   669 0000052A 89 42 08                        	MOV	DWORD [8+EDX],EAX
   670 0000052D 8D 95 FFFFFB68                  	LEA	EDX,DWORD [-1176+EBP]
   671 00000533 8B 46 64                        	MOV	EAX,DWORD [100+ESI]
   672 00000536 89 50 0C                        	MOV	DWORD [12+EAX],EDX
   673 00000539 8D 95 FFFFFB64                  	LEA	EDX,DWORD [-1180+EBP]
   674 0000053F 8B 46 64                        	MOV	EAX,DWORD [100+ESI]
   675 00000542 89 50 10                        	MOV	DWORD [16+EAX],EDX
   676 00000545 6A 00                           	PUSH	0
   677 00000547 6A 02                           	PUSH	2
   678 00000549 53                              	PUSH	EBX
   679 0000054A E8 [00000000]                   	CALL	_task_run
   680 0000054F 6A 00                           	PUSH	0
   681 00000551 6A 02                           	PUSH	2
   682 00000553 56                              	PUSH	ESI
   683 00000554 E8 [00000000]                   	CALL	_task_run
   684 00000559                                 L100:
   685 00000559 83 C4 18                        	ADD	ESP,24
   686 0000055C                                 L25:
   687 0000055C 80 BD FFFFFB13 00               	CMP	BYTE [-1261+EBP],0
   688 00000563 74 30                           	JE	L28
   689 00000565 8B 95 FFFFFB14                  	MOV	EDX,DWORD [-1260+EBP]
   690 0000056B 8B 42 24                        	MOV	EAX,DWORD [36+EDX]
   691 0000056E 83 B8 000000A4 00               	CMP	DWORD [164+EAX],0
   692 00000575 74 1E                           	JE	L28
   693 00000577 8D 85 FFFFFB74                  	LEA	EAX,DWORD [-1164+EBP]
   694 0000057D 50                              	PUSH	EAX
   695 0000057E 8B 42 24                        	MOV	EAX,DWORD [36+EDX]
   696 00000581 C6 85 FFFFFB13 00               	MOV	BYTE [-1261+EBP],0
   697 00000588 FF B0 000000A4                  	PUSH	DWORD [164+EAX]
   698 0000058E E8 [00000000]                   	CALL	_cons_putstr0
   699 00000593 59                              	POP	ECX
   700 00000594 5B                              	POP	EBX
   701 00000595                                 L28:
   702 00000595 8B 95 FFFFFB14                  	MOV	EDX,DWORD [-1260+EBP]
   703 0000059B 8B 42 24                        	MOV	EAX,DWORD [36+EDX]
   704 0000059E 83 B8 000000A4 00               	CMP	DWORD [164+EAX],0
   705 000005A5 74 35                           	JE	L29
   706 000005A7 FF B5 FFFFFB68                  	PUSH	DWORD [-1176+EBP]
   707 000005AD FF B5 FFFFFB70                  	PUSH	DWORD [-1168+EBP]
   708 000005B3 68 [00000124]                   	PUSH	LC1
   709 000005B8 8D 9D FFFFFB74                  	LEA	EBX,DWORD [-1164+EBP]
   710 000005BE 53                              	PUSH	EBX
   711 000005BF E8 [00000000]                   	CALL	_sprintf
   712 000005C4 8B 95 FFFFFB14                  	MOV	EDX,DWORD [-1260+EBP]
   713 000005CA 53                              	PUSH	EBX
   714 000005CB 8B 42 24                        	MOV	EAX,DWORD [36+EDX]
   715 000005CE FF B0 000000A4                  	PUSH	DWORD [164+EAX]
   716 000005D4 E8 [00000000]                   	CALL	_cons_putstr0
   717 000005D9 83 C4 18                        	ADD	ESP,24
   718 000005DC                                 L29:
   719 000005DC 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
   720 000005DF 53                              	PUSH	EBX
   721 000005E0 E8 [00000000]                   	CALL	_fifo32_status
   722 000005E5 5A                              	POP	EDX
   723 000005E6 85 C0                           	TEST	EAX,EAX
   724 000005E8 7E 0D                           	JLE	L30
   725 000005EA 83 BD FFFFFB2C 00               	CMP	DWORD [-1236+EBP],0
   726 000005F1 0F 88 0000074F                  	JS	L105
   727 000005F7                                 L30:
   728 000005F7 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   729 000005FA E8 [00000000]                   	CALL	_io_cli
   730 000005FF 53                              	PUSH	EBX
   731 00000600 E8 [00000000]                   	CALL	_fifo32_status
   732 00000605 5E                              	POP	ESI
   733 00000606 85 C0                           	TEST	EAX,EAX
   734 00000608 0F 84 000006D9                  	JE	L106
   735 0000060E 53                              	PUSH	EBX
   736 0000060F E8 [00000000]                   	CALL	_fifo32_get
   737 00000614 89 C6                           	MOV	ESI,EAX
   738 00000616 E8 [00000000]                   	CALL	_io_sti
   739 0000061B 5B                              	POP	EBX
   740 0000061C 85 FF                           	TEST	EDI,EDI
   741 0000061E 74 27                           	JE	L37
   742 00000620 83 7F 1C 00                     	CMP	DWORD [28+EDI],0
   743 00000624 75 21                           	JNE	L37
   744 00000626 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   745 0000062C 31 FF                           	XOR	EDI,EDI
   746 0000062E 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
   747 00000631 83 F8 01                        	CMP	EAX,1
   748 00000634 74 11                           	JE	L37
   749 00000636 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   750 0000063C 8B 7C 82 10                     	MOV	EDI,DWORD [16+EDX+EAX*4]
   751 00000640 57                              	PUSH	EDI
   752 00000641 E8 00000754                     	CALL	_keywin_on
   753 00000646 59                              	POP	ECX
   754 00000647                                 L37:
   755 00000647 8D 86 FFFFFF00                  	LEA	EAX,DWORD [-256+ESI]
   756 0000064D 3D 000000FF                     	CMP	EAX,255
   757 00000652 0F 86 00000399                  	JBE	L107
   758 00000658 8D 86 FFFFFE00                  	LEA	EAX,DWORD [-512+ESI]
   759 0000065E 3D 000000FF                     	CMP	EAX,255
   760 00000663 0F 86 00000093                  	JBE	L108
   761 00000669 8D 86 FFFFFD00                  	LEA	EAX,DWORD [-768+ESI]
   762 0000066F 3D 000000FF                     	CMP	EAX,255
   763 00000674 76 6E                           	JBE	L109
   764 00000676 8D 86 FFFFFC00                  	LEA	EAX,DWORD [-1024+ESI]
   765 0000067C 3D 000003E7                     	CMP	EAX,999
   766 00000681 76 43                           	JBE	L110
   767 00000683 8D 86 FFFFF818                  	LEA	EAX,DWORD [-2024+ESI]
   768 00000689 3D 000000FF                     	CMP	EAX,255
   769 0000068E 0F 87 FFFFFEC8                  	JA	L25
   770 00000694 6B C6 28                        	IMUL	EAX,ESI,40
   771 00000697 03 85 FFFFFB5C                  	ADD	EAX,DWORD [-1188+EBP]
   772 0000069D 68 0000A500                     	PUSH	42240
   773 000006A2 FF B0 FFFEC7D4                  	PUSH	DWORD [-79916+EAX]
   774 000006A8 68 003C0000                     	PUSH	3932160
   775 000006AD 8D 98 FFFEC7D4                  	LEA	EBX,DWORD [-79916+EAX]
   776 000006B3 E8 [00000000]                   	CALL	_memman_free_4k
   777 000006B8 53                              	PUSH	EBX
   778 000006B9 E8 [00000000]                   	CALL	_sheet_free
   779 000006BE 83 C4 10                        	ADD	ESP,16
   780 000006C1 E9 FFFFFE96                     	JMP	L25
   781 000006C6                                 L110:
   782 000006C6 69 F6 000000B0                  	IMUL	ESI,ESI,176
   783 000006CC 03 35 [00000000]                	ADD	ESI,DWORD [_taskctl]
   784 000006D2 8D 86 FFFD4FF8                  	LEA	EAX,DWORD [-176136+ESI]
   785 000006D8 50                              	PUSH	EAX
   786 000006D9 E8 0000080F                     	CALL	_close_constask
   787 000006DE                                 L99:
   788 000006DE 59                              	POP	ECX
   789 000006DF E9 FFFFFE78                     	JMP	L25
   790 000006E4                                 L109:
   791 000006E4 6B C6 28                        	IMUL	EAX,ESI,40
   792 000006E7 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   793 000006ED 8D 84 10 FFFF8C14               	LEA	EAX,DWORD [-29676+EAX+EDX*1]
   794 000006F4 50                              	PUSH	EAX
   795 000006F5 E8 00000833                     	CALL	_close_console
   796 000006FA EB E2                           	JMP	L99
   797 000006FC                                 L108:
   798 000006FC 89 F2                           	MOV	EDX,ESI
   799 000006FE 0F B6 C2                        	MOVZX	EAX,DL
   800 00000701 50                              	PUSH	EAX
   801 00000702 8D 85 FFFFFCF4                  	LEA	EAX,DWORD [-780+EBP]
   802 00000708 50                              	PUSH	EAX
   803 00000709 E8 [00000000]                   	CALL	_mouse_decode
   804 0000070E 5A                              	POP	EDX
   805 0000070F 59                              	POP	ECX
   806 00000710 85 C0                           	TEST	EAX,EAX
   807 00000712 0F 84 FFFFFE44                  	JE	L25
   808 00000718 8B 85 FFFFFCFC                  	MOV	EAX,DWORD [-772+EBP]
   809 0000071E 8B 95 FFFFFCF8                  	MOV	EDX,DWORD [-776+EBP]
   810 00000724 01 85 FFFFFB54                  	ADD	DWORD [-1196+EBP],EAX
   811 0000072A 01 95 FFFFFB58                  	ADD	DWORD [-1192+EBP],EDX
   812 00000730 0F 88 000002AC                  	JS	L111
   813 00000736                                 L69:
   814 00000736 83 BD FFFFFB54 00               	CMP	DWORD [-1196+EBP],0
   815 0000073D 0F 88 00000290                  	JS	L112
   816 00000743                                 L70:
   817 00000743 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   818 0000074A 48                              	DEC	EAX
   819 0000074B 39 85 FFFFFB58                  	CMP	DWORD [-1192+EBP],EAX
   820 00000751 7E 06                           	JLE	L71
   821 00000753 89 85 FFFFFB58                  	MOV	DWORD [-1192+EBP],EAX
   822 00000759                                 L71:
   823 00000759 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   824 00000760 48                              	DEC	EAX
   825 00000761 39 85 FFFFFB54                  	CMP	DWORD [-1196+EBP],EAX
   826 00000767 7E 06                           	JLE	L72
   827 00000769 89 85 FFFFFB54                  	MOV	DWORD [-1196+EBP],EAX
   828 0000076F                                 L72:
   829 0000076F 8B 85 FFFFFB58                  	MOV	EAX,DWORD [-1192+EBP]
   830 00000775 8B 95 FFFFFB54                  	MOV	EDX,DWORD [-1196+EBP]
   831 0000077B 89 85 FFFFFB50                  	MOV	DWORD [-1200+EBP],EAX
   832 00000781 89 95 FFFFFB4C                  	MOV	DWORD [-1204+EBP],EDX
   833 00000787 F7 85 FFFFFD00 00000001         	TEST	DWORD [-768+EBP],1
   834 00000791 75 43                           	JNE	L113
   835 00000793 C7 85 FFFFFB28 FFFFFFFF         	MOV	DWORD [-1240+EBP],-1
   836 0000079D 81 BD FFFFFB48 7FFFFFFF         	CMP	DWORD [-1208+EBP],2147483647
   837 000007A7 0F 84 FFFFFDAF                  	JE	L25
   838 000007AD                                 L101:
   839 000007AD FF B5 FFFFFB44                  	PUSH	DWORD [-1212+EBP]
   840 000007B3 FF B5 FFFFFB48                  	PUSH	DWORD [-1208+EBP]
   841 000007B9 FF B5 FFFFFB1C                  	PUSH	DWORD [-1252+EBP]
   842 000007BF E8 [00000000]                   	CALL	_sheet_slide
   843 000007C4 C7 85 FFFFFB48 7FFFFFFF         	MOV	DWORD [-1208+EBP],2147483647
   844 000007CE                                 L102:
   845 000007CE 83 C4 0C                        	ADD	ESP,12
   846 000007D1 E9 FFFFFD86                     	JMP	L25
   847 000007D6                                 L113:
   848 000007D6 83 BD FFFFFB28 00               	CMP	DWORD [-1240+EBP],0
   849 000007DD 78 46                           	JS	L114
   850 000007DF 8B 9D FFFFFB58                  	MOV	EBX,DWORD [-1192+EBP]
   851 000007E5 8B 85 FFFFFB20                  	MOV	EAX,DWORD [-1248+EBP]
   852 000007EB 2B 9D FFFFFB28                  	SUB	EBX,DWORD [-1240+EBP]
   853 000007F1 8B B5 FFFFFB54                  	MOV	ESI,DWORD [-1196+EBP]
   854 000007F7 2B B5 FFFFFB24                  	SUB	ESI,DWORD [-1244+EBP]
   855 000007FD 8B 95 FFFFFB54                  	MOV	EDX,DWORD [-1196+EBP]
   856 00000803 8D 5C 03 02                     	LEA	EBX,DWORD [2+EBX+EAX*1]
   857 00000807 89 95 FFFFFB24                  	MOV	DWORD [-1244+EBP],EDX
   858 0000080D 89 9D FFFFFB48                  	MOV	DWORD [-1208+EBP],EBX
   859 00000813 01 B5 FFFFFB44                  	ADD	DWORD [-1212+EBP],ESI
   860 00000819 83 A5 FFFFFB48 FC               	AND	DWORD [-1208+EBP],-4
   861 00000820 E9 FFFFFD37                     	JMP	L25
   862 00000825                                 L114:
   863 00000825 8B 85 FFFFFB5C                  	MOV	EAX,DWORD [-1188+EBP]
   864 0000082B 8B 40 10                        	MOV	EAX,DWORD [16+EAX]
   865 0000082E 89 85 FFFFFB0C                  	MOV	DWORD [-1268+EBP],EAX
   866 00000834 89 C1                           	MOV	ECX,EAX
   867 00000836                                 L104:
   868 00000836 49                              	DEC	ECX
   869 00000837 85 C9                           	TEST	ECX,ECX
   870 00000839 0F 8E FFFFFD1D                  	JLE	L25
   871 0000083F 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   872 00000845 8B B5 FFFFFB54                  	MOV	ESI,DWORD [-1196+EBP]
   873 0000084B 8B 9D FFFFFB58                  	MOV	EBX,DWORD [-1192+EBP]
   874 00000851 8B 54 8A 14                     	MOV	EDX,DWORD [20+EDX+ECX*4]
   875 00000855 89 95 FFFFFB1C                  	MOV	DWORD [-1252+EBP],EDX
   876 0000085B 2B 72 10                        	SUB	ESI,DWORD [16+EDX]
   877 0000085E 2B 5A 0C                        	SUB	EBX,DWORD [12+EDX]
   878 00000861 78 D3                           	JS	L104
   879 00000863 8B 42 04                        	MOV	EAX,DWORD [4+EDX]
   880 00000866 39 C3                           	CMP	EBX,EAX
   881 00000868 7D CC                           	JGE	L104
   882 0000086A 85 F6                           	TEST	ESI,ESI
   883 0000086C 78 C8                           	JS	L104
   884 0000086E 3B 72 08                        	CMP	ESI,DWORD [8+EDX]
   885 00000871 7D C3                           	JGE	L104
   886 00000873 0F AF C6                        	IMUL	EAX,ESI
   887 00000876 89 85 FFFFFB08                  	MOV	DWORD [-1272+EBP],EAX
   888 0000087C 8B 12                           	MOV	EDX,DWORD [EDX]
   889 0000087E 8B 85 FFFFFB08                  	MOV	EAX,DWORD [-1272+EBP]
   890 00000884 01 D8                           	ADD	EAX,EBX
   891 00000886 0F B6 04 10                     	MOVZX	EAX,BYTE [EAX+EDX*1]
   892 0000088A 8B 95 FFFFFB1C                  	MOV	EDX,DWORD [-1252+EBP]
   893 00000890 3B 42 14                        	CMP	EAX,DWORD [20+EDX]
   894 00000893 74 A1                           	JE	L104
   895 00000895 8B 85 FFFFFB0C                  	MOV	EAX,DWORD [-1268+EBP]
   896 0000089B 48                              	DEC	EAX
   897 0000089C 50                              	PUSH	EAX
   898 0000089D 52                              	PUSH	EDX
   899 0000089E E8 [00000000]                   	CALL	_sheet_updown
   900 000008A3 39 BD FFFFFB1C                  	CMP	DWORD [-1252+EBP],EDI
   901 000008A9 59                              	POP	ECX
   902 000008AA 58                              	POP	EAX
   903 000008AB 74 14                           	JE	L81
   904 000008AD 57                              	PUSH	EDI
   905 000008AE E8 000004B9                     	CALL	_keywin_off
   906 000008B3 8B BD FFFFFB1C                  	MOV	EDI,DWORD [-1252+EBP]
   907 000008B9 57                              	PUSH	EDI
   908 000008BA E8 000004DB                     	CALL	_keywin_on
   909 000008BF 58                              	POP	EAX
   910 000008C0 5A                              	POP	EDX
   911 000008C1                                 L81:
   912 000008C1 83 FB 02                        	CMP	EBX,2
   913 000008C4 7E 50                           	JLE	L82
   914 000008C6 8B 95 FFFFFB1C                  	MOV	EDX,DWORD [-1252+EBP]
   915 000008CC 8B 42 04                        	MOV	EAX,DWORD [4+EDX]
   916 000008CF 83 E8 03                        	SUB	EAX,3
   917 000008D2 39 C3                           	CMP	EBX,EAX
   918 000008D4 7D 40                           	JGE	L82
   919 000008D6 83 FE 02                        	CMP	ESI,2
   920 000008D9 7E 3B                           	JLE	L82
   921 000008DB 83 FE 14                        	CMP	ESI,20
   922 000008DE 7F 36                           	JG	L82
   923 000008E0 8B 85 FFFFFB58                  	MOV	EAX,DWORD [-1192+EBP]
   924 000008E6 8B 95 FFFFFB54                  	MOV	EDX,DWORD [-1196+EBP]
   925 000008EC 89 85 FFFFFB28                  	MOV	DWORD [-1240+EBP],EAX
   926 000008F2 89 95 FFFFFB24                  	MOV	DWORD [-1244+EBP],EDX
   927 000008F8 8B 85 FFFFFB1C                  	MOV	EAX,DWORD [-1252+EBP]
   928 000008FE 8B 95 FFFFFB1C                  	MOV	EDX,DWORD [-1252+EBP]
   929 00000904 8B 40 0C                        	MOV	EAX,DWORD [12+EAX]
   930 00000907 8B 52 10                        	MOV	EDX,DWORD [16+EDX]
   931 0000090A 89 85 FFFFFB20                  	MOV	DWORD [-1248+EBP],EAX
   932 00000910 89 95 FFFFFB44                  	MOV	DWORD [-1212+EBP],EDX
   933 00000916                                 L82:
   934 00000916 8B 85 FFFFFB1C                  	MOV	EAX,DWORD [-1252+EBP]
   935 0000091C 8B 50 04                        	MOV	EDX,DWORD [4+EAX]
   936 0000091F 8D 42 EB                        	LEA	EAX,DWORD [-21+EDX]
   937 00000922 39 D8                           	CMP	EAX,EBX
   938 00000924 0F 8F FFFFFC32                  	JG	L25
   939 0000092A 8D 42 FB                        	LEA	EAX,DWORD [-5+EDX]
   940 0000092D 39 C3                           	CMP	EBX,EAX
   941 0000092F 0F 8D FFFFFC27                  	JGE	L25
   942 00000935 83 FE 04                        	CMP	ESI,4
   943 00000938 0F 8E FFFFFC1E                  	JLE	L25
   944 0000093E 83 FE 12                        	CMP	ESI,18
   945 00000941 0F 8F FFFFFC15                  	JG	L25
   946 00000947 8B 95 FFFFFB1C                  	MOV	EDX,DWORD [-1252+EBP]
   947 0000094D F6 42 1C 10                     	TEST	BYTE [28+EDX],16
   948 00000951 74 42                           	JE	L115
   949 00000953 8B 85 FFFFFB1C                  	MOV	EAX,DWORD [-1252+EBP]
   950 00000959 8B 58 24                        	MOV	EBX,DWORD [36+EAX]
   951 0000095C 68 [00000150]                   	PUSH	LC3
   952 00000961 FF B3 000000A4                  	PUSH	DWORD [164+EBX]
   953 00000967 E8 [00000000]                   	CALL	_cons_putstr0
   954 0000096C E8 [00000000]                   	CALL	_io_cli
   955 00000971 8D 43 30                        	LEA	EAX,DWORD [48+EBX]
   956 00000974 89 43 54                        	MOV	DWORD [84+EBX],EAX
   957 00000977 C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_asm_end_app
   958 0000097E E8 [00000000]                   	CALL	_io_sti
   959 00000983 6A 00                           	PUSH	0
   960 00000985 6A FF                           	PUSH	-1
   961 00000987 53                              	PUSH	EBX
   962 00000988 E8 [00000000]                   	CALL	_task_run
   963 0000098D 83 C4 14                        	ADD	ESP,20
   964 00000990 E9 FFFFFBC7                     	JMP	L25
   965 00000995                                 L115:
   966 00000995 8B 5A 24                        	MOV	EBX,DWORD [36+EDX]
   967 00000998 6A FF                           	PUSH	-1
   968 0000099A 52                              	PUSH	EDX
   969 0000099B E8 [00000000]                   	CALL	_sheet_updown
   970 000009A0 57                              	PUSH	EDI
   971 000009A1 E8 000003C6                     	CALL	_keywin_off
   972 000009A6 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
   973 000009AC 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
   974 000009AF 8B 7C 82 10                     	MOV	EDI,DWORD [16+EDX+EAX*4]
   975 000009B3 57                              	PUSH	EDI
   976 000009B4 E8 000003E1                     	CALL	_keywin_on
   977 000009B9 E8 [00000000]                   	CALL	_io_cli
   978 000009BE 8D 43 10                        	LEA	EAX,DWORD [16+EBX]
   979 000009C1 6A 04                           	PUSH	4
   980 000009C3 50                              	PUSH	EAX
   981 000009C4 E8 [00000000]                   	CALL	_fifo32_put
   982 000009C9 E8 [00000000]                   	CALL	_io_sti
   983 000009CE E9 FFFFFB86                     	JMP	L100
   984 000009D3                                 L112:
   985 000009D3 C7 85 FFFFFB54 00000000         	MOV	DWORD [-1196+EBP],0
   986 000009DD E9 FFFFFD61                     	JMP	L70
   987 000009E2                                 L111:
   988 000009E2 C7 85 FFFFFB58 00000000         	MOV	DWORD [-1192+EBP],0
   989 000009EC E9 FFFFFD45                     	JMP	L69
   990 000009F1                                 L107:
   991 000009F1 81 FE 0000017F                  	CMP	ESI,383
   992 000009F7 0F 8F 000002E1                  	JG	L41
   993 000009FD 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
   994 00000A04 0F 85 000002C9                  	JNE	L42
   995 00000A0A 8A 86 [FFFFFF00]                	MOV	AL,BYTE [_keytable0.0-256+ESI]
   996 00000A10                                 L103:
   997 00000A10 88 45 C4                        	MOV	BYTE [-60+EBP],AL
   998 00000A13                                 L44:
   999 00000A13 8A 55 C4                        	MOV	DL,BYTE [-60+EBP]
  1000 00000A16 8D 42 BF                        	LEA	EAX,DWORD [-65+EDX]
  1001 00000A19 3C 19                           	CMP	AL,25
  1002 00000A1B 77 1D                           	JA	L45
  1003 00000A1D F7 85 FFFFFB30 00000004         	TEST	DWORD [-1232+EBP],4
  1004 00000A27 0F 85 00000297                  	JNE	L97
  1005 00000A2D 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1006 00000A34 0F 84 0000027F                  	JE	L47
  1007 00000A3A                                 L45:
  1008 00000A3A 8A 45 C4                        	MOV	AL,BYTE [-60+EBP]
  1009 00000A3D 84 C0                           	TEST	AL,AL
  1010 00000A3F 74 1B                           	JE	L49
  1011 00000A41 85 FF                           	TEST	EDI,EDI
  1012 00000A43 74 17                           	JE	L49
  1013 00000A45 0F BE C0                        	MOVSX	EAX,AL
  1014 00000A48 05 00000100                     	ADD	EAX,256
  1015 00000A4D 50                              	PUSH	EAX
  1016 00000A4E 8B 47 24                        	MOV	EAX,DWORD [36+EDI]
  1017 00000A51 83 C0 10                        	ADD	EAX,16
  1018 00000A54 50                              	PUSH	EAX
  1019 00000A55 E8 [00000000]                   	CALL	_fifo32_put
  1020 00000A5A 58                              	POP	EAX
  1021 00000A5B 5A                              	POP	EDX
  1022 00000A5C                                 L49:
  1023 00000A5C 81 FE 0000010F                  	CMP	ESI,271
  1024 00000A62 0F 84 0000021C                  	JE	L116
  1025 00000A68                                 L50:
  1026 00000A68 81 FE 0000012A                  	CMP	ESI,298
  1027 00000A6E 0F 84 00000204                  	JE	L117
  1028 00000A74                                 L52:
  1029 00000A74 81 FE 00000136                  	CMP	ESI,310
  1030 00000A7A 0F 84 000001EC                  	JE	L118
  1031 00000A80                                 L53:
  1032 00000A80 81 FE 000001AA                  	CMP	ESI,426
  1033 00000A86 0F 84 000001D4                  	JE	L119
  1034 00000A8C                                 L54:
  1035 00000A8C 81 FE 000001B6                  	CMP	ESI,438
  1036 00000A92 0F 84 000001BC                  	JE	L120
  1037 00000A98                                 L55:
  1038 00000A98 81 FE 0000013A                  	CMP	ESI,314
  1039 00000A9E 0F 84 00000187                  	JE	L121
  1040 00000AA4                                 L56:
  1041 00000AA4 81 FE 00000145                  	CMP	ESI,325
  1042 00000AAA 0F 84 00000152                  	JE	L122
  1043 00000AB0                                 L57:
  1044 00000AB0 81 FE 00000146                  	CMP	ESI,326
  1045 00000AB6 0F 84 0000011D                  	JE	L123
  1046 00000ABC                                 L58:
  1047 00000ABC 81 FE 0000013B                  	CMP	ESI,315
  1048 00000AC2 0F 84 000000AE                  	JE	L124
  1049 00000AC8                                 L59:
  1050 00000AC8 81 FE 0000013C                  	CMP	ESI,316
  1051 00000ACE 74 58                           	JE	L125
  1052 00000AD0                                 L61:
  1053 00000AD0 81 FE 00000157                  	CMP	ESI,343
  1054 00000AD6 74 39                           	JE	L126
  1055 00000AD8                                 L63:
  1056 00000AD8 81 FE 000001FA                  	CMP	ESI,506
  1057 00000ADE 74 25                           	JE	L127
  1058 00000AE0                                 L64:
  1059 00000AE0 81 FE 000001FE                  	CMP	ESI,510
  1060 00000AE6 0F 85 FFFFFA70                  	JNE	L25
  1061 00000AEC E8 [00000000]                   	CALL	_wait_KBC_sendready
  1062 00000AF1 FF B5 FFFFFB2C                  	PUSH	DWORD [-1236+EBP]
  1063 00000AF7 6A 60                           	PUSH	96
  1064 00000AF9 E8 [00000000]                   	CALL	_io_out8
  1065 00000AFE 5B                              	POP	EBX
  1066 00000AFF 5E                              	POP	ESI
  1067 00000B00 E9 FFFFFA57                     	JMP	L25
  1068 00000B05                                 L127:
  1069 00000B05 C7 85 FFFFFB2C FFFFFFFF         	MOV	DWORD [-1236+EBP],-1
  1070 00000B0F EB CF                           	JMP	L64
  1071 00000B11                                 L126:
  1072 00000B11 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
  1073 00000B17 8B 42 10                        	MOV	EAX,DWORD [16+EDX]
  1074 00000B1A 48                              	DEC	EAX
  1075 00000B1B 50                              	PUSH	EAX
  1076 00000B1C FF 72 18                        	PUSH	DWORD [24+EDX]
  1077 00000B1F E8 [00000000]                   	CALL	_sheet_updown
  1078 00000B24 58                              	POP	EAX
  1079 00000B25 5A                              	POP	EDX
  1080 00000B26 EB B0                           	JMP	L63
  1081 00000B28                                 L125:
  1082 00000B28 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1083 00000B2F 74 9F                           	JE	L61
  1084 00000B31 85 FF                           	TEST	EDI,EDI
  1085 00000B33 74 07                           	JE	L62
  1086 00000B35 57                              	PUSH	EDI
  1087 00000B36 E8 00000231                     	CALL	_keywin_off
  1088 00000B3B 59                              	POP	ECX
  1089 00000B3C                                 L62:
  1090 00000B3C FF B5 FFFFFB40                  	PUSH	DWORD [-1216+EBP]
  1091 00000B42 FF B5 FFFFFB5C                  	PUSH	DWORD [-1188+EBP]
  1092 00000B48 E8 00000321                     	CALL	_open_console
  1093 00000B4D 6A 04                           	PUSH	4
  1094 00000B4F 6A 20                           	PUSH	32
  1095 00000B51 89 C7                           	MOV	EDI,EAX
  1096 00000B53 50                              	PUSH	EAX
  1097 00000B54 E8 [00000000]                   	CALL	_sheet_slide
  1098 00000B59 8B 85 FFFFFB5C                  	MOV	EAX,DWORD [-1188+EBP]
  1099 00000B5F FF 70 10                        	PUSH	DWORD [16+EAX]
  1100 00000B62 57                              	PUSH	EDI
  1101 00000B63 E8 [00000000]                   	CALL	_sheet_updown
  1102 00000B68 57                              	PUSH	EDI
  1103 00000B69 E8 0000022C                     	CALL	_keywin_on
  1104 00000B6E 83 C4 20                        	ADD	ESP,32
  1105 00000B71 E9 FFFFFF5A                     	JMP	L61
  1106 00000B76                                 L124:
  1107 00000B76 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1108 00000B7D 0F 84 FFFFFF45                  	JE	L59
  1109 00000B83 85 FF                           	TEST	EDI,EDI
  1110 00000B85 0F 84 FFFFFF3D                  	JE	L59
  1111 00000B8B 8B 5F 24                        	MOV	EBX,DWORD [36+EDI]
  1112 00000B8E 85 DB                           	TEST	EBX,EBX
  1113 00000B90 0F 84 FFFFFF32                  	JE	L59
  1114 00000B96 83 7B 34 00                     	CMP	DWORD [52+EBX],0
  1115 00000B9A 0F 84 FFFFFF28                  	JE	L59
  1116 00000BA0 68 [00000161]                   	PUSH	LC2
  1117 00000BA5 FF B3 000000A4                  	PUSH	DWORD [164+EBX]
  1118 00000BAB E8 [00000000]                   	CALL	_cons_putstr0
  1119 00000BB0 E8 [00000000]                   	CALL	_io_cli
  1120 00000BB5 8D 43 30                        	LEA	EAX,DWORD [48+EBX]
  1121 00000BB8 89 43 54                        	MOV	DWORD [84+EBX],EAX
  1122 00000BBB C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_asm_end_app
  1123 00000BC2 E8 [00000000]                   	CALL	_io_sti
  1124 00000BC7 6A 00                           	PUSH	0
  1125 00000BC9 6A FF                           	PUSH	-1
  1126 00000BCB 53                              	PUSH	EBX
  1127 00000BCC E8 [00000000]                   	CALL	_task_run
  1128 00000BD1 83 C4 14                        	ADD	ESP,20
  1129 00000BD4 E9 FFFFFEEF                     	JMP	L59
  1130 00000BD9                                 L123:
  1131 00000BD9 68 000000ED                     	PUSH	237
  1132 00000BDE 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1133 00000BE1 53                              	PUSH	EBX
  1134 00000BE2 83 B5 FFFFFB30 01               	XOR	DWORD [-1232+EBP],1
  1135 00000BE9 E8 [00000000]                   	CALL	_fifo32_put
  1136 00000BEE FF B5 FFFFFB30                  	PUSH	DWORD [-1232+EBP]
  1137 00000BF4 53                              	PUSH	EBX
  1138 00000BF5 E8 [00000000]                   	CALL	_fifo32_put
  1139 00000BFA 83 C4 10                        	ADD	ESP,16
  1140 00000BFD E9 FFFFFEBA                     	JMP	L58
  1141 00000C02                                 L122:
  1142 00000C02 68 000000ED                     	PUSH	237
  1143 00000C07 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1144 00000C0A 53                              	PUSH	EBX
  1145 00000C0B 83 B5 FFFFFB30 02               	XOR	DWORD [-1232+EBP],2
  1146 00000C12 E8 [00000000]                   	CALL	_fifo32_put
  1147 00000C17 FF B5 FFFFFB30                  	PUSH	DWORD [-1232+EBP]
  1148 00000C1D 53                              	PUSH	EBX
  1149 00000C1E E8 [00000000]                   	CALL	_fifo32_put
  1150 00000C23 83 C4 10                        	ADD	ESP,16
  1151 00000C26 E9 FFFFFE85                     	JMP	L57
  1152 00000C2B                                 L121:
  1153 00000C2B 68 000000ED                     	PUSH	237
  1154 00000C30 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1155 00000C33 53                              	PUSH	EBX
  1156 00000C34 83 B5 FFFFFB30 04               	XOR	DWORD [-1232+EBP],4
  1157 00000C3B E8 [00000000]                   	CALL	_fifo32_put
  1158 00000C40 FF B5 FFFFFB30                  	PUSH	DWORD [-1232+EBP]
  1159 00000C46 53                              	PUSH	EBX
  1160 00000C47 E8 [00000000]                   	CALL	_fifo32_put
  1161 00000C4C 83 C4 10                        	ADD	ESP,16
  1162 00000C4F E9 FFFFFE50                     	JMP	L56
  1163 00000C54                                 L120:
  1164 00000C54 83 A5 FFFFFB34 FD               	AND	DWORD [-1228+EBP],-3
  1165 00000C5B E9 FFFFFE38                     	JMP	L55
  1166 00000C60                                 L119:
  1167 00000C60 83 A5 FFFFFB34 FE               	AND	DWORD [-1228+EBP],-2
  1168 00000C67 E9 FFFFFE20                     	JMP	L54
  1169 00000C6C                                 L118:
  1170 00000C6C 83 8D FFFFFB34 02               	OR	DWORD [-1228+EBP],2
  1171 00000C73 E9 FFFFFE08                     	JMP	L53
  1172 00000C78                                 L117:
  1173 00000C78 83 8D FFFFFB34 01               	OR	DWORD [-1228+EBP],1
  1174 00000C7F E9 FFFFFDF0                     	JMP	L52
  1175 00000C84                                 L116:
  1176 00000C84 85 FF                           	TEST	EDI,EDI
  1177 00000C86 0F 84 FFFFFDDC                  	JE	L50
  1178 00000C8C 57                              	PUSH	EDI
  1179 00000C8D E8 000000DA                     	CALL	_keywin_off
  1180 00000C92 8B 4F 18                        	MOV	ECX,DWORD [24+EDI]
  1181 00000C95 49                              	DEC	ECX
  1182 00000C96 58                              	POP	EAX
  1183 00000C97 75 0A                           	JNE	L51
  1184 00000C99 8B 85 FFFFFB5C                  	MOV	EAX,DWORD [-1188+EBP]
  1185 00000C9F 8B 48 10                        	MOV	ECX,DWORD [16+EAX]
  1186 00000CA2 49                              	DEC	ECX
  1187 00000CA3                                 L51:
  1188 00000CA3 8B 95 FFFFFB5C                  	MOV	EDX,DWORD [-1188+EBP]
  1189 00000CA9 8B 7C 8A 14                     	MOV	EDI,DWORD [20+EDX+ECX*4]
  1190 00000CAD 57                              	PUSH	EDI
  1191 00000CAE E8 000000E7                     	CALL	_keywin_on
  1192 00000CB3 5B                              	POP	EBX
  1193 00000CB4 E9 FFFFFDAF                     	JMP	L50
  1194 00000CB9                                 L47:
  1195 00000CB9 8D 42 20                        	LEA	EAX,DWORD [32+EDX]
  1196 00000CBC 88 45 C4                        	MOV	BYTE [-60+EBP],AL
  1197 00000CBF E9 FFFFFD76                     	JMP	L45
  1198 00000CC4                                 L97:
  1199 00000CC4 83 BD FFFFFB34 00               	CMP	DWORD [-1228+EBP],0
  1200 00000CCB 0F 84 FFFFFD69                  	JE	L45
  1201 00000CD1 EB E6                           	JMP	L47
  1202 00000CD3                                 L42:
  1203 00000CD3 8A 86 [FFFFFF80]                	MOV	AL,BYTE [_keytable1.1-256+ESI]
  1204 00000CD9 E9 FFFFFD32                     	JMP	L103
  1205 00000CDE                                 L41:
  1206 00000CDE C6 45 C4 00                     	MOV	BYTE [-60+EBP],0
  1207 00000CE2 E9 FFFFFD2C                     	JMP	L44
  1208 00000CE7                                 L106:
  1209 00000CE7 83 BD FFFFFB50 00               	CMP	DWORD [-1200+EBP],0
  1210 00000CEE 79 2B                           	JNS	L128
  1211 00000CF0 81 BD FFFFFB48 7FFFFFFF         	CMP	DWORD [-1208+EBP],2147483647
  1212 00000CFA 75 15                           	JNE	L129
  1213 00000CFC FF B5 FFFFFB38                  	PUSH	DWORD [-1224+EBP]
  1214 00000D02 E8 [00000000]                   	CALL	_task_sleep
  1215 00000D07 E8 [00000000]                   	CALL	_io_sti
  1216 00000D0C E9 FFFFF9CD                     	JMP	L99
  1217 00000D11                                 L129:
  1218 00000D11 E8 [00000000]                   	CALL	_io_sti
  1219 00000D16 E9 FFFFFA92                     	JMP	L101
  1220 00000D1B                                 L128:
  1221 00000D1B E8 [00000000]                   	CALL	_io_sti
  1222 00000D20 FF B5 FFFFFB4C                  	PUSH	DWORD [-1204+EBP]
  1223 00000D26 FF B5 FFFFFB50                  	PUSH	DWORD [-1200+EBP]
  1224 00000D2C FF B5 FFFFFB3C                  	PUSH	DWORD [-1220+EBP]
  1225 00000D32 E8 [00000000]                   	CALL	_sheet_slide
  1226 00000D37 C7 85 FFFFFB50 FFFFFFFF         	MOV	DWORD [-1200+EBP],-1
  1227 00000D41 E9 FFFFFA88                     	JMP	L102
  1228 00000D46                                 L105:
  1229 00000D46 53                              	PUSH	EBX
  1230 00000D47 E8 [00000000]                   	CALL	_fifo32_get
  1231 00000D4C 89 85 FFFFFB2C                  	MOV	DWORD [-1236+EBP],EAX
  1232 00000D52 E8 [00000000]                   	CALL	_wait_KBC_sendready
  1233 00000D57 FF B5 FFFFFB2C                  	PUSH	DWORD [-1236+EBP]
  1234 00000D5D 6A 60                           	PUSH	96
  1235 00000D5F E8 [00000000]                   	CALL	_io_out8
  1236 00000D64 83 C4 0C                        	ADD	ESP,12
  1237 00000D67 E9 FFFFF88B                     	JMP	L30
  1238 00000D6C                                 	GLOBAL	_keywin_off
  1239 00000D6C                                 _keywin_off:
  1240 00000D6C 55                              	PUSH	EBP
  1241 00000D6D 89 E5                           	MOV	EBP,ESP
  1242 00000D6F 53                              	PUSH	EBX
  1243 00000D70 6A 00                           	PUSH	0
  1244 00000D72 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1245 00000D75 53                              	PUSH	EBX
  1246 00000D76 E8 [00000000]                   	CALL	_change_wtitle8
  1247 00000D7B F6 43 1C 20                     	TEST	BYTE [28+EBX],32
  1248 00000D7F 59                              	POP	ECX
  1249 00000D80 58                              	POP	EAX
  1250 00000D81 75 05                           	JNE	L132
  1251 00000D83                                 L130:
  1252 00000D83 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1253 00000D86 C9                              	LEAVE
  1254 00000D87 C3                              	RET
  1255 00000D88                                 L132:
  1256 00000D88 6A 03                           	PUSH	3
  1257 00000D8A 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
  1258 00000D8D 83 C0 10                        	ADD	EAX,16
  1259 00000D90 50                              	PUSH	EAX
  1260 00000D91 E8 [00000000]                   	CALL	_fifo32_put
  1261 00000D96 58                              	POP	EAX
  1262 00000D97 5A                              	POP	EDX
  1263 00000D98 EB E9                           	JMP	L130
  1264 00000D9A                                 	GLOBAL	_keywin_on
  1265 00000D9A                                 _keywin_on:
  1266 00000D9A 55                              	PUSH	EBP
  1267 00000D9B 89 E5                           	MOV	EBP,ESP
  1268 00000D9D 53                              	PUSH	EBX
  1269 00000D9E 6A 01                           	PUSH	1
  1270 00000DA0 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1271 00000DA3 53                              	PUSH	EBX
  1272 00000DA4 E8 [00000000]                   	CALL	_change_wtitle8
  1273 00000DA9 F6 43 1C 20                     	TEST	BYTE [28+EBX],32
  1274 00000DAD 59                              	POP	ECX
  1275 00000DAE 58                              	POP	EAX
  1276 00000DAF 75 05                           	JNE	L135
  1277 00000DB1                                 L133:
  1278 00000DB1 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1279 00000DB4 C9                              	LEAVE
  1280 00000DB5 C3                              	RET
  1281 00000DB6                                 L135:
  1282 00000DB6 6A 02                           	PUSH	2
  1283 00000DB8 8B 43 24                        	MOV	EAX,DWORD [36+EBX]
  1284 00000DBB 83 C0 10                        	ADD	EAX,16
  1285 00000DBE 50                              	PUSH	EAX
  1286 00000DBF E8 [00000000]                   	CALL	_fifo32_put
  1287 00000DC4 58                              	POP	EAX
  1288 00000DC5 5A                              	POP	EDX
  1289 00000DC6 EB E9                           	JMP	L133
  1290 00000DC8                                 	GLOBAL	_open_constask
  1291 00000DC8                                 _open_constask:
  1292 00000DC8 55                              	PUSH	EBP
  1293 00000DC9 89 E5                           	MOV	EBP,ESP
  1294 00000DCB 56                              	PUSH	ESI
  1295 00000DCC 53                              	PUSH	EBX
  1296 00000DCD E8 [00000000]                   	CALL	_task_alloc
  1297 00000DD2 68 00000200                     	PUSH	512
  1298 00000DD7 68 003C0000                     	PUSH	3932160
  1299 00000DDC 89 C3                           	MOV	EBX,EAX
  1300 00000DDE E8 [00000000]                   	CALL	_memman_alloc_4k
  1301 00000DE3 68 00010000                     	PUSH	65536
  1302 00000DE8 68 003C0000                     	PUSH	3932160
  1303 00000DED 89 C6                           	MOV	ESI,EAX
  1304 00000DEF E8 [00000000]                   	CALL	_memman_alloc_4k
  1305 00000DF4 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1306 00000DF7 C7 43 4C [00000000]             	MOV	DWORD [76+EBX],_console_task
  1307 00000DFE 89 83 000000AC                  	MOV	DWORD [172+EBX],EAX
  1308 00000E04 05 0000FFF4                     	ADD	EAX,65524
  1309 00000E09 89 43 64                        	MOV	DWORD [100+EBX],EAX
  1310 00000E0C C7 43 74 00000008               	MOV	DWORD [116+EBX],8
  1311 00000E13 C7 43 78 00000010               	MOV	DWORD [120+EBX],16
  1312 00000E1A C7 43 7C 00000008               	MOV	DWORD [124+EBX],8
  1313 00000E21 C7 83 00000080 00000008         	MOV	DWORD [128+EBX],8
  1314 00000E2B C7 83 00000084 00000008         	MOV	DWORD [132+EBX],8
  1315 00000E35 C7 83 00000088 00000008         	MOV	DWORD [136+EBX],8
  1316 00000E3F 89 50 04                        	MOV	DWORD [4+EAX],EDX
  1317 00000E42 8B 53 64                        	MOV	EDX,DWORD [100+EBX]
  1318 00000E45 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1319 00000E48 89 42 08                        	MOV	DWORD [8+EDX],EAX
  1320 00000E4B 6A 02                           	PUSH	2
  1321 00000E4D 6A 02                           	PUSH	2
  1322 00000E4F 53                              	PUSH	EBX
  1323 00000E50 E8 [00000000]                   	CALL	_task_run
  1324 00000E55 8D 43 10                        	LEA	EAX,DWORD [16+EBX]
  1325 00000E58 53                              	PUSH	EBX
  1326 00000E59 56                              	PUSH	ESI
  1327 00000E5A 68 00000080                     	PUSH	128
  1328 00000E5F 50                              	PUSH	EAX
  1329 00000E60 E8 [00000000]                   	CALL	_fifo32_init
  1330 00000E65 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  1331 00000E68 89 D8                           	MOV	EAX,EBX
  1332 00000E6A 5B                              	POP	EBX
  1333 00000E6B 5E                              	POP	ESI
  1334 00000E6C 5D                              	POP	EBP
  1335 00000E6D C3                              	RET
  1336                                          [SECTION .data]
  1337 00000170                                 LC4:
  1338 00000170 63 6F 6E 73 6F 6C 65 00         	DB	"console",0x00
  1339                                          [SECTION .text]
  1340 00000E6E                                 	GLOBAL	_open_console
  1341 00000E6E                                 _open_console:
  1342 00000E6E 55                              	PUSH	EBP
  1343 00000E6F 89 E5                           	MOV	EBP,ESP
  1344 00000E71 56                              	PUSH	ESI
  1345 00000E72 53                              	PUSH	EBX
  1346 00000E73 FF 75 08                        	PUSH	DWORD [8+EBP]
  1347 00000E76 E8 [00000000]                   	CALL	_sheet_alloc
  1348 00000E7B 68 0000A500                     	PUSH	42240
  1349 00000E80 68 003C0000                     	PUSH	3932160
  1350 00000E85 89 C3                           	MOV	EBX,EAX
  1351 00000E87 E8 [00000000]                   	CALL	_memman_alloc_4k
  1352 00000E8C 6A FF                           	PUSH	-1
  1353 00000E8E 68 000000A5                     	PUSH	165
  1354 00000E93 89 C6                           	MOV	ESI,EAX
  1355 00000E95 68 00000100                     	PUSH	256
  1356 00000E9A 50                              	PUSH	EAX
  1357 00000E9B 53                              	PUSH	EBX
  1358 00000E9C E8 [00000000]                   	CALL	_sheet_setbuf
  1359 00000EA1 83 C4 20                        	ADD	ESP,32
  1360 00000EA4 6A 00                           	PUSH	0
  1361 00000EA6 68 [00000170]                   	PUSH	LC4
  1362 00000EAB 68 000000A5                     	PUSH	165
  1363 00000EB0 68 00000100                     	PUSH	256
  1364 00000EB5 56                              	PUSH	ESI
  1365 00000EB6 E8 [00000000]                   	CALL	_make_window8
  1366 00000EBB 6A 00                           	PUSH	0
  1367 00000EBD 68 00000080                     	PUSH	128
  1368 00000EC2 68 000000F0                     	PUSH	240
  1369 00000EC7 6A 1C                           	PUSH	28
  1370 00000EC9 6A 08                           	PUSH	8
  1371 00000ECB 53                              	PUSH	EBX
  1372 00000ECC E8 [00000000]                   	CALL	_make_textbox8
  1373 00000ED1 83 C4 2C                        	ADD	ESP,44
  1374 00000ED4 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1375 00000ED7 53                              	PUSH	EBX
  1376 00000ED8 E8 FFFFFEEB                     	CALL	_open_constask
  1377 00000EDD 83 4B 1C 20                     	OR	DWORD [28+EBX],32
  1378 00000EE1 89 43 24                        	MOV	DWORD [36+EBX],EAX
  1379 00000EE4 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  1380 00000EE7 89 D8                           	MOV	EAX,EBX
  1381 00000EE9 5B                              	POP	EBX
  1382 00000EEA 5E                              	POP	ESI
  1383 00000EEB 5D                              	POP	EBP
  1384 00000EEC C3                              	RET
  1385 00000EED                                 	GLOBAL	_close_constask
  1386 00000EED                                 _close_constask:
  1387 00000EED 55                              	PUSH	EBP
  1388 00000EEE 89 E5                           	MOV	EBP,ESP
  1389 00000EF0 53                              	PUSH	EBX
  1390 00000EF1 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1391 00000EF4 53                              	PUSH	EBX
  1392 00000EF5 E8 [00000000]                   	CALL	_task_sleep
  1393 00000EFA 68 00010000                     	PUSH	65536
  1394 00000EFF FF B3 000000AC                  	PUSH	DWORD [172+EBX]
  1395 00000F05 68 003C0000                     	PUSH	3932160
  1396 00000F0A E8 [00000000]                   	CALL	_memman_free_4k
  1397 00000F0F 68 00000200                     	PUSH	512
  1398 00000F14 FF 73 10                        	PUSH	DWORD [16+EBX]
  1399 00000F17 68 003C0000                     	PUSH	3932160
  1400 00000F1C E8 [00000000]                   	CALL	_memman_free_4k
  1401 00000F21 C7 43 04 00000000               	MOV	DWORD [4+EBX],0
  1402 00000F28 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  1403 00000F2B C9                              	LEAVE
  1404 00000F2C C3                              	RET
  1405 00000F2D                                 	GLOBAL	_close_console
  1406 00000F2D                                 _close_console:
  1407 00000F2D 55                              	PUSH	EBP
  1408 00000F2E 89 E5                           	MOV	EBP,ESP
  1409 00000F30 56                              	PUSH	ESI
  1410 00000F31 53                              	PUSH	EBX
  1411 00000F32 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1412 00000F35 8B 73 24                        	MOV	ESI,DWORD [36+EBX]
  1413 00000F38 68 0000A500                     	PUSH	42240
  1414 00000F3D FF 33                           	PUSH	DWORD [EBX]
  1415 00000F3F 68 003C0000                     	PUSH	3932160
  1416 00000F44 E8 [00000000]                   	CALL	_memman_free_4k
  1417 00000F49 53                              	PUSH	EBX
  1418 00000F4A E8 [00000000]                   	CALL	_sheet_free
  1419 00000F4F 89 75 08                        	MOV	DWORD [8+EBP],ESI
  1420 00000F52 83 C4 10                        	ADD	ESP,16
  1421 00000F55 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  1422 00000F58 5B                              	POP	EBX
  1423 00000F59 5E                              	POP	ESI
  1424 00000F5A 5D                              	POP	EBP
  1425 00000F5B EB 90                           	JMP	_close_constask
